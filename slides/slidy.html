<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Stepan Rutz" />
  <meta name="date" content="2024-01-01" />
  <title>Vue.js mit Typescript</title>
  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="https://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <script src="https://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js"
    charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Vue.js mit Typescript</h1>
  <p class="author">
Stepan Rutz
  </p>
  <p class="date">2024</p>
</div>
<div id="einstieg-in-vue-3-mit-vite" class="slide section level1">
<h1>Einstieg in Vue 3 mit Vite</h1>
<ul>
<li>Konzepte von Vue</li>
<li>Konfiguration der Umgebung, Tools, Plugins</li>
<li>Neue Projekte Vite erzeugen</li>
<li>Erstellen einer Start-Seite</li>
<li>Composition API / Option API</li>
<li>Einsatz mehrerer Root Elemente / Fragments</li>
</ul>
</div>
<div id="konzepte-von-vue" class="slide section level1">
<h1>Konzepte von Vue</h1>
<ul>
<li>Das Vue-Framework im Überblick</li>
<li>Vue ist ein Framework um Userinterfaces von Webanwendungen zu
erstellen</li>
<li>Vue bringt ein Programmiermodell mit, das auf Komponenten
basiert.</li>
<li>Änderungen an Variablen werden automatisch im Userinterface
aktualisiert.</li>
</ul>
</div>
<div id="vue-philosophie" class="slide section level1">
<h1>Vue Philosophie</h1>
<ul>
<li>Templates für deklarative Oberflüchen mit eigenen Komponenten
(Tags)</li>
<li>Reaktivität für automatische Aktualisierung der UI bei Änderungen im
Code</li>
</ul>
</div>
<div id="weblinks-zu-vue.js" class="slide section level1">
<h1>Weblinks zu Vue.js</h1>
<ul>
<li>Vue.js Guide: https://vuejs.org/guide/introduction.html</li>
<li>Vue.js Blog: https://v3.vuejs.org/blog/</li>
<li>Vue.js Tutorials: https://v3.vuejs.org/guide/introduction.html</li>
<li>Vue.js Forum: https://forum.vuejs.org/</li>
<li>Vue.js 3 Cheat Sheet:
https://www.vuemastery.com/pdf/Vue-3-Cheat-Sheet.pdf</li>
<li>Vue.js Conference Videos: https://www.youtube.com/<span
class="citation">@VuejsAmsterdam</span></li>
</ul>
</div>
<div id="der-vue.js-playground" class="slide section level1">
<h1>Der Vue.js Playground</h1>
<ul>
<li>Der Vue.js Playground ist ein interaktives Tool, um Vue.js Code zu
schreiben und zu testen.</li>
<li>Vue.js Playground: <a
href="https://play.vuejs.org/">https://play.vuejs.org/</a></li>
<li>Vue.js Interaktives Tutorial: <a
href="https://v3.vuejs.org/guide/introduction.html">https://v3.vuejs.org/guide/introduction.html</a></li>
<li>Vue.js Stackblitz: <a
href="https://stackblitz.com/edit/vitejs-vite-cragur?file=README.md">Stackblitz</a></li>
</ul>
</div>
<div id="der-typescript-playground" class="slide section level1">
<h1>Der Typescript Playground</h1>
<ul>
<li>Der TypeScript Playground ist ein interaktives Tool, um TypeScript
Code zu schreiben und zu testen.</li>
<li>Link: <a
href="https://www.typescriptlang.org/play">https://www.typescriptlang.org/play</a></li>
</ul>
</div>
<div id="warum-typescript" class="slide section level1">
<h1>Warum Typescript</h1>
<ul>
<li>Ermöglicht Entwicklern, Typisierungsfehler im Voraus zu
erkennen</li>
<li>Verbessert die Teamkollaboration durch klare Typdefinitionen</li>
<li>Erleichtert die Wartung und Skalierung von großen Projekten</li>
<li>Verbessert die Developer Experience (DX) durch bessere
Autokomplettierung und IntelliSense</li>
</ul>
</div>
<div id="wichtige-basis-technologien" class="slide section level1">
<h1>Wichtige Basis-Technologien</h1>
<p>Vue.js 3 basiert auf folgenden Technologien:</p>
<ol style="list-style-type: decimal">
<li>HTML</li>
<li>CSS</li>
<li>JavaScript und TypeScript</li>
</ol>
</div>
<div id="welche-vorkenntnisse-sind-hilfreich"
class="slide section level1">
<h1>Welche Vorkenntnisse sind hilfreich?</h1>
<ul>
<li>Grundkenntnisse in HTML, CSS und JavaScript</li>
<li>Einzelne Aspekte von Typescript wie:
<ul>
<li>Typen, Interfaces, Klassen, Generics, Dekoratoren</li>
<li>Typisierung von Funktionen, Props und Daten</li>
</ul></li>
<li>Einzelne Aspekte von Javascript wie:
<ul>
<li>Promise und Async/Await, Fetch API, Arrow Functions, Spread
Operator, Destructuring, ES6-Modules</li>
</ul></li>
</ul>
</div>
<div id="links-zu-grundlagen-technologien" class="slide section level1">
<h1>Links zu Grundlagen-Technologien</h1>
<ul>
<li>MDN (Mozilla Developer Network) für HTML, CSS und JavaScript:
https://developer.mozilla.org/</li>
<li>TypeScript Dokumentation: https://www.typescriptlang.org/docs/</li>
<li>CSS-Flexbox Layouts:
https://css-tricks.com/snippets/css/a-guide-to-flexbox/</li>
<li>CSS-Grid Layouts:
https://css-tricks.com/snippets/css/complete-guide-grid/</li>
</ul>
</div>
<div id="wichtige-packages" class="slide section level1">
<h1>Wichtige Packages</h1>
<ul>
<li>Tailwind CSS für das Styling. https://tailwindcss.com/</li>
<li>Vue Router für das Routing. https://next.router.vuejs.org/</li>
<li>Vuex für das Zustandsmanagement. https://next.vuex.vuejs.org/</li>
<li>Pinia als Alternative zu Vuex. https://pinia.esm.dev/</li>
<li>Axios für HTTP-Requests. https://axios-http.com/</li>
<li>Nuxt.js für Server-Side Rendering. https://nuxtjs.org/</li>
<li>V18n für Internationalisierung. https://v18n.js.org/</li>
</ul>
</div>
<div id="gui-komponenten-libraries" class="slide section level1">
<h1>GUI-Komponenten Libraries</h1>
<ul>
<li>Quasar: https://quasar.dev/</li>
<li>Vuetify: https://vuetifyjs.com/</li>
<li>Bulma: https://bulma.io/</li>
<li>Bootstrap: https://getbootstrap.com/</li>
<li>Shadcn-Vue: https://www.shadcn-vue.com/docs/introduction.html</li>
<li>Vue Material: https://vuematerial.io/</li>
<li>VuePress: https://vuepress.vuejs.org/</li>
</ul>
</div>
<div id="vue-single-file-components-sfc" class="slide section level1">
<h1>Vue Single File Components (SFC)</h1>
<ul>
<li>Vue kann in Single File Components (SFC) entwickelt werden.</li>
<li>Diese Files enden auf .vue und enthalten das Template (=HTML) und
optional CSS und Typescript/JavaScript.</li>
</ul>
</div>
<div id="vue-3-features" class="slide section level1">
<h1>Vue 3 Features</h1>
<ul>
<li>Databindung und Reaktivität</li>
<li>Computed Properties und Watcher</li>
<li>Event-Binding und Event-Modifiers</li>
<li>Lifecycle Hooks und Lifecycle-Methoden</li>
<li>Slots und Named</li>
<li>Props und Custom Events</li>
<li>Teleport und Portals</li>
<li>Provide und Inject</li>
<li>Suspense und Async Components</li>
</ul>
</div>
<div id="konfiguration-der-umgebung-tools-plugins"
class="slide section level1">
<h1>Konfiguration der Umgebung, Tools, Plugins</h1>
</div>
<div id="kommandozeilen-tools" class="slide section level1">
<h1>Kommandozeilen-Tools</h1>
<ul>
<li>node.js (enthält NPM)</li>
<li>git (empfholen)</li>
</ul>
</div>
<div id="entwicklungsumgebungen" class="slide section level1">
<h1>Entwicklungsumgebungen</h1>
<ul>
<li>Empfohlene Entwicklungsumgebungen:
<ul>
<li>Visual Studio Code / VSCode</li>
<li>WebStorm / IntelliJ IDEA</li>
<li>NeoVim</li>
<li>Emacs</li>
</ul></li>
</ul>
</div>
<div id="entwicklung-in-der-cloud" class="slide section level1">
<h1>Entwicklung in der Cloud</h1>
<ul>
<li>Github Codespaces</li>
<li>Gitpod</li>
<li>Vscode Online (https://github.dev)</li>
</ul>
</div>
<div id="vscode-extensions-für-vue" class="slide section level1">
<h1>VSCode Extensions für Vue</h1>
<ul>
<li><p>Vue - Official (ex Volar)</p></li>
<li><p>Vetur</p></li>
<li><p>Copilot (Empfhohlen)</p></li>
<li><p>Optional: Prettier</p></li>
<li><p>Optional: ESLint</p></li>
</ul>
</div>
<div id="neue-projekte-mit-vite-erzeugen" class="slide section level1">
<h1>Neue Projekte mit Vite erzeugen</h1>
<ul>
<li><p>Vite ist ein Build-Tool für moderne Web-Entwicklung und setzt ES6
Module voraus.</p>
<ul>
<li>Dadurch ist Vite viel schneller als Webpack.</li>
</ul></li>
<li><p>Voraussetzung für die Vite Verwendung ist die Installation von
Node.js.</p></li>
<li><p>NPM ist der Node Package Manager, der mit Node.js installiert
wird.</p></li>
<li><p>Neues Vue.js Projekt anlegen:</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a> <span class="ex">npm</span> create vue@latest</span></code></pre></div>
<ul>
<li>Dieses neue Projekt enthält bereits einfachen Beispielcode.</li>
</ul>
</div>
<div id="arbeiten-mit-dem-neuen-projekt" class="slide section level1">
<h1>Arbeiten mit dem neuen Projekt</h1>
<ul>
<li>Wechseln in das Projektverzeichnis:</li>
</ul>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="bu">cd</span> <span class="op">&lt;</span>projektname<span class="op">&gt;</span></span></code></pre></div>
<ul>
<li>Starten des Entwicklungsservers:</li>
</ul>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">npm</span> run dev</span></code></pre></div>
<ul>
<li>Alle Änderungen werden beobachtet und die Seite wird automatisch neu
geladen.</li>
<li>Vite unterstützt Proxying von API-Requests. Dadurch kann man lokal
während der Entwicklung auf eine API zugreifen und die SOP/CORS-Policies
der APIs umgehen.</li>
</ul>
</div>
<div id="vite-plugins" class="slide section level1">
<h1>Vite-Plugins</h1>
<ul>
<li>Vite kann durch Plugins erweitert werden.</li>
</ul>
</div>
<div id="installation-von-tailwind-css-teil-1"
class="slide section level1">
<h1>Installation von Tailwind CSS (Teil 1)</h1>
<ul>
<li><p>Tailwind CSS hat sich als beliebtes CSS-Framework etabliert.
Tailwind bringt viele Utility-Klassen mit, die das Styling von Webseiten
erleichtern.</p></li>
<li><p>Die Installation von Tailwind CSS erfolgt über NPM:</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-D</span> tailwindcss@latest postcss@latest autoprefixer@latest</span></code></pre></div>
<ul>
<li>Anschließend wird die Tailwind-Konfiguration erstellt:</li>
</ul>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">npx</span> tailwindcss init <span class="at">-p</span></span></code></pre></div>
</div>
<div id="installation-von-tailwind-css-teil-2"
class="slide section level1">
<h1>Installation von Tailwind CSS (Teil 2)</h1>
<ul>
<li>Es empfiehlt sich, die Tailwind-Konfiguration zu bearbeiten um
ungenutze Styles aus dem CSS zu entfernen.</li>
</ul>
<div class="sourceCode" id="cb6"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="er">//</span> <span class="er">tailwind.config.js</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="er">module.exports</span> <span class="er">=</span> <span class="fu">{</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>   <span class="er">purge</span><span class="fu">:</span> <span class="ot">[</span><span class="er">&#39;./index.html&#39;</span><span class="ot">,</span> <span class="er">&#39;./src/**/*.</span><span class="fu">{</span><span class="er">vue</span><span class="fu">,</span><span class="er">js</span><span class="fu">,</span><span class="er">ts</span><span class="fu">,</span><span class="er">jsx</span><span class="fu">,</span><span class="er">tsx</span><span class="fu">}</span><span class="er">&#39;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>   <span class="er">darkMode</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span> <span class="er">//</span> <span class="er">or</span> <span class="er">&#39;media&#39;</span> <span class="er">or</span> <span class="er">&#39;class&#39;</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>   <span class="er">theme</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>     <span class="er">extend</span><span class="fu">:</span> <span class="fu">{},</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>   <span class="fu">},</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>   <span class="er">variants</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>     <span class="er">extend</span><span class="fu">:</span> <span class="fu">{},</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>   <span class="fu">},</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>   <span class="er">plugins</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<ul>
<li>Einbinden ins Haupt-CSS File:</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co">/* ./src/index.css */</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="im">@tailwind</span> base<span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="im">@tailwind</span> components<span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="im">@tailwind</span> utilities<span class="op">;</span></span></code></pre></div>
</div>
<div id="komplett-leeres-vuevite-projekt-mit-tailwind-css"
class="slide section level1">
<h1>Komplett leeres Vue/Vite Projekt mit Tailwind CSS</h1>
<ul>
<li>Ein komplett leeres Vue/Vite Projekt mit Tailwind CSS kann man sich
über folgenden Befehl erzeugen:</li>
</ul>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/srutz/vueempty.git</span></code></pre></div>
</div>
<div id="erstellen-einer-start-seite" class="slide section level1">
<h1>Erstellen einer Start-Seite</h1>
<ul>
<li>In der Viteanwendung wird aus der index.html die Datei
<code>src/main.ts</code> geladen.</li>
<li><code>src/main.ts</code> initialisiert Vue und lädt die
App-Komponente aus <code>src/App.vue</code>.</li>
</ul>
<div class="sourceCode" id="cb9"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="im">import</span> { createApp } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="im">import</span> <span class="st">&#39;./style.css&#39;</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="im">import</span> App <span class="im">from</span> <span class="st">&#39;./App.vue&#39;</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="fu">createApp</span>(App)<span class="op">.</span><span class="fu">mount</span>(<span class="st">&#39;#app&#39;</span>)</span></code></pre></div>
<ul>
<li>Die App-Komponente <code>src/App.vue</code> ist die Wurzelkomponente
der Anwendung und eine Vue Single File Component (SFC).</li>
</ul>
</div>
<div id="eine-einfache-startseite" class="slide section level1">
<h1>Eine einfache Startseite</h1>
<ul>
<li>Die App-Komponente <code>src/App.vue</code> enthält das Template,
die Logik und das Styling der Startseite.</li>
<li>Wir beginnen mit dem Template welches HTML und Vue-Direktiven
enthält.</li>
</ul>
<div class="sourceCode" id="cb10"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;text-4xl&quot;</span><span class="dt">&gt;</span>Vue 3 mit Vite<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Willkommen auf der Startseite<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="options-und-composition-api" class="slide section level1">
<h1>Options und Composition API</h1>
<ul>
<li>Vue bieter zwei Programmierweisen an. Die Option API und die
Composition API.</li>
<li>Die Option API ist die klassische Art, Vue-Komponenten zu erstellen
und ähnelt der Vue 2 Syntax.</li>
<li>Die Composition API ist eine neue Art, Vue-Komponenten zu erstellen
und erlaubt es, Logik in Funktionen zu kapseln.
<ul>
<li>Die Composition API ist funktionaler und erlaubt es, Logik zu teilen
und zu wiederverwenden.</li>
<li>Die Composition API bringt das Konzept der Composables mit, die
Logik in Funktionen kapseln.</li>
<li>Moderne Frameworks und APIs setzen alle auf die Composition
API.</li>
</ul></li>
<li>Im folgenden werden wir die Composition API verwenden mit Typescript
und Script-Setup.</li>
</ul>
</div>
<div id="schablone-für-vue-single-file-components."
class="slide section level1">
<h1>Schablone für Vue Single File Components.</h1>
<div class="sourceCode" id="cb11"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="kw">const</span> currentTime <span class="op">=</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toLocaleString</span>()</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;text-4xl&quot;</span><span class="dt">&gt;</span>Hello Vue<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span>{{ currentTime }}<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">style</span> <span class="er">scoped</span><span class="dt">&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">style</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="die-3-sektionen-einer-vue-single-file-component"
class="slide section level1">
<h1>Die 3 Sektionen einer Vue Single File Component</h1>
<ul>
<li><p>Die Sektion <code>&lt;template&gt;</code> enthält das HTML der
Komponente.</p></li>
<li><p>Die optionale Sektion <code>&lt;script setup&gt;</code> enthält
die Logik der Komponente. Das Attribute <code>lang="ts"</code> gibt an,
dass Typescript verwendet wird.</p>
<ul>
<li>Weitere Componenten müssen hier importiert werden, damit Vue sie
verwenden kann.</li>
<li>Alle im Top-Level definierten Variablen und Funktionen sind
automatisch in der Komponente verfügbar.</li>
</ul></li>
<li><p>Die optionale Sektion <code>&lt;style&gt;</code> enthält das CSS
der Komponente.</p>
<ul>
<li>Das optionale Attribut <code>scoped</code> sorgt dafür, dass das CSS
nur für die aktuelle Komponente gilt.</li>
</ul></li>
</ul>
</div>
<div id="reiner-typescript-code" class="slide section level1">
<h1>Reiner Typescript-Code</h1>
<ul>
<li>Composables oder anderer Code kann in regulären Typescript-Dateien
mit der Endung <code>.ts</code> abgelegt werden.</li>
<li>Wiederverwendbare Funktionen können leider nicht aus SFCs exportiert
werden.</li>
</ul>
</div>
<div id="reaktive-zustände-mit-ref-und-reactive"
class="slide section level1">
<h1>Reaktive Zustände mit ref() und reactive()</h1>
<ul>
<li>Mittels ref() und reactive() können reaktive Variablen in Vue.js
erstellt werden.</li>
<li>Änderungen an diesen Variablen werden automatisch erkannt und die UI
aktualisiert.</li>
<li>Außerdem können weitere Abhängigkeiten definiert werden, die bei
Änderungen ebenfalls aktualisiert werden.</li>
<li>Ein Ref kann auch mittels unref() wieder zum eingepackten Wert
zurückgeführt werden.</li>
</ul>
<div class="sourceCode" id="cb12"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="im">import</span> { ref<span class="op">,</span> } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="kw">const</span> count <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">0</span>)</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="kw">const</span> value <span class="op">=</span> <span class="fu">unref</span>(count)</span></code></pre></div>
</div>
<div id="reaktive-zustände-mit-ref" class="slide section level1">
<h1>Reaktive Zustände mit ref()</h1>
<p>Ein ref() ist ein Wrapper um einen Wert, der reaktiv ist. Das
bedeutet, dass Vue automatisch Änderungen an diesem Wert erkennt und die
UI aktualisiert.</p>
<p>Hinter den Kulissen wird ein Wrapper-Objekt verwendet, um die
Reaktivität zu ermöglichen. Dabei werden getter und setter verwendet, um
die Abhängigkeiten zu tracken.Die Abhängigten Objekte werden intern in
einer Liste gespeichert und bei Änderung benachrichtigt.</p>
<p>Die Implementierung ist für Interessierte hier zu finden:</p>
<ul>
<li>https://github.com/vuejs/core/blob/main/packages/reactivity/src/ref</li>
<li>https://github.com/vuejs/core/blob/main/packages/reactivity/src/dep.ts</li>
</ul>
</div>
<div id="reaktive-zustände-mit-reactive" class="slide section level1">
<h1>Reaktive Zustände mit reactive()</h1>
<ul>
<li>reactive() ist eine Funktion, die ein Objekt oder ein Array reaktiv
macht. Ein Proxy-Objekt wird verwendet, um die Eigenschaften des
Objektes oder des Arrays zu tracken.</li>
<li>reactive() ist nicht für primitive Werte wie String, Number oder
Boolean geeignet. Dafür wird ref() verwendet.</li>
</ul>
</div>
<div id="unterschiede-zwischen-ref-und-reactive"
class="slide section level1">
<h1>Unterschiede zwischen ref() und reactive()</h1>
<ul>
<li>ref() für primitive Werte, Arrays und Objekte. Der Zugriff auf den
Wert erfolgt über .value. In Vue-Templates ist der .value-Zugriff nicht
notwendig.</li>
<li>reactive() für komplexe Objekte und Arrays. Der Zugriff auf die
Werte erfolgt direkt über die Objekteigenschaften.</li>
</ul>
<div class="float">
<img src="./vue1.drawio.png" alt="Bild" />
<div class="figcaption">Bild</div>
</div>
</div>
<div id="zugriff-auf-den-wert-eines-refs" class="slide section level1">
<h1>Zugriff auf den Wert eines Refs</h1>
<ul>
<li>Der Wert einer Ref wird über die .value-Eigenschaft gelesen und
geschrieben.</li>
<li>Der Typ einer Ref ist Ref<T> wenn der Typ des Werts ist T.</li>
</ul>
<div class="sourceCode" id="cb13"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="im">import</span> { ref } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="kw">const</span> count <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">0</span>)</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(count<span class="op">.</span><span class="at">value</span>) <span class="co">// Zugriff über .values</span></span></code></pre></div>
<ul>
<li>Der Weg über .value ist notwendig, da Vue dann über die get und set
Methoden eines Objektes die Änderungen des Werts mitverfolgen kann.</li>
</ul>
</div>
<div id="wrapper-objekte-in-javascript" class="slide section level1">
<h1>Wrapper Objekte in Javascript</h1>
<ul>
<li>Beispiel eines Wrapper Objekts in Javascript.</li>
</ul>
<div class="sourceCode" id="cb14"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="kw">const</span> count <span class="op">=</span> {</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>    _value<span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>    <span class="kw">get</span> <span class="fu">value</span>() {</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">this</span><span class="op">.</span><span class="at">_value</span></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a>    <span class="kw">set</span> <span class="fu">value</span>(newValue) {</span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a>        <span class="cf">if</span> (<span class="kw">this</span><span class="op">.</span><span class="at">_value</span> <span class="op">!==</span> newValue) {</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>          <span class="kw">this</span><span class="op">.</span><span class="at">_value</span> <span class="op">=</span> newValue</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>          <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&quot;Value changed:&quot;</span><span class="op">,</span> newValue)</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a>          <span class="co">// Benachrichtige alle Abhängigkeiten hier</span></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a>        }</span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a>    }</span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Die Vue-Refs sind etwas komplexer und verwenden ein Observer-Pattern
um die Abhängigkeiten zu tracken.</li>
<li>Diese Abhängigkeiten werden in den Refs gespeichert und bei
Änderungen benachrichtigt. Vue verwendet dafür ein internes Feld namens
Deps (Dependencies).</li>
</ul>
</div>
<div id="refs-standalone-mit-watch" class="slide section level1">
<h1>Refs Standalone mit watch()</h1>
<ul>
<li>Beispiel für die Verwendung von Refs als Event-Listener. Dafür wird
die watchEffect() Funktion verwendet.</li>
</ul>
<div class="sourceCode" id="cb15"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="kw">const</span> myRef <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="fu">watch</span>([myRef]<span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Value changed:&#39;</span><span class="op">,</span> myRef<span class="op">.</span><span class="at">value</span>)</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>})</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>    myRef<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>}<span class="op">,</span> <span class="dv">10_000</span>)<span class="op">;</span>  <span class="co">// löse Änderung nach 10 Sekunden aus</span></span></code></pre></div>
</div>
<div id="refs-beobachten-mit-watcheffect" class="slide section level1">
<h1>Refs beobachten mit watchEffect()</h1>
<ul>
<li>Beispiel für die Verwendung von Refs als Event-Listener. Dafür wird
die watchEffect() Funktion verwendet.</li>
</ul>
<div class="sourceCode" id="cb16"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="kw">const</span> myRef <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="fu">watchEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Value changed:&#39;</span><span class="op">,</span> myRef<span class="op">.</span><span class="at">value</span>)</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>})</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>    myRef<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>}<span class="op">,</span> <span class="dv">10_000</span>)<span class="op">;</span>  <span class="co">// löse Änderung nach 10 Sekunden aus</span></span></code></pre></div>
</div>
<div id="warum-funktioniert-watcheffect" class="slide section level1">
<h1>Warum funktioniert watchEffect()?</h1>
<ul>
<li>Bei watchEffect() wurde die Ref nicht explizit als Abhängigkeit
angegeben.</li>
<li>watchEffect() funktioniert, weil Vue die Abhängigkeiten automatisch
trackt.</li>
<li>Deswegen muss watchEffect() einmal direkt aufgerufen werden, damit
Vue die Abhängigkeiten getracked werden können.</li>
</ul>
</div>
<div id="weiterleitung-mittels-computed" class="slide section level1">
<h1>Weiterleitung mittels computed()</h1>
<ul>
<li>Refs können mittels computed() weitergeleitet werden. computed()
funktionen schreiben die verwendeten Refs automatisch mit und sind dann
von allen Refs die Sie verwenden abhängig.</li>
</ul>
<div class="sourceCode" id="cb17"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="kw">const</span> myRef1 <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">10</span>)</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="kw">const</span> myRef2 <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">20</span>)</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="kw">const</span> myComputed <span class="op">=</span> <span class="fu">computed</span>(() <span class="kw">=&gt;</span> myRef1<span class="op">.</span><span class="at">value</span> <span class="op">*</span> mvRef2<span class="op">.</span><span class="at">value</span>)</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a><span class="fu">watchEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Value changed:&#39;</span><span class="op">,</span> myComputed<span class="op">.</span><span class="at">value</span>)</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>computed() funktioniert also genauso wie watchEffect() und trackt
die verwendeten Refs automatisch.</li>
</ul>
</div>
<div id="beispiel-für-computed" class="slide section level1">
<h1>Beispiel für computed()</h1>
<ul>
<li>Beispiel für die Verwendung von computed().</li>
</ul>
<div class="sourceCode" id="cb18"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="kw">const</span> myRef1 <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">10</span>)</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="kw">const</span> myRef2 <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">20</span>)</span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="kw">const</span> product <span class="op">=</span> <span class="fu">computed</span>(() <span class="kw">=&gt;</span> myRef1<span class="op">.</span><span class="at">value</span> <span class="op">*</span> myRef2<span class="op">.</span><span class="at">value</span>)</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a><span class="co">// watchEffect simuliert die &quot;GUI&quot; und zeigt die Änderungen an</span></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a><span class="fu">watchEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Value changed:&#39;</span><span class="op">,</span> product<span class="op">.</span><span class="at">value</span>)</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="pitfall-bei-computed-und-watcheffect"
class="slide section level1">
<h1>Pitfall bei computed() und watchEffect()</h1>
<ul>
<li>computed() und watchEffect() tracken nur die Refs, die direkt im
Callback beim ERSTEN Aufruf verwendet werden.</li>
<li>If-Statements und andere Bedingungen können dazu führen, dass die
Refs nicht getrackt werden.</li>
</ul>
</div>
<div id="reaktivität-mit-reactive" class="slide section level1">
<h1>Reaktivität mit reactive()</h1>
<ul>
<li>Objekte und Arrays können mit reactive() reaktiv gemacht
werden.</li>
<li>reactive() ist ein Proxy-Objekt, das die Eigenschaften des Objekts
trackt.</li>
<li>Primitive Werte wie String, Boolean und Number können nicht mittels
reactive() getrackt werden.</li>
</ul>
<div class="sourceCode" id="cb19"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="im">import</span> { reactive } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="kw">const</span> state <span class="op">=</span> <span class="fu">reactive</span>({</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>    count<span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>    message<span class="op">:</span> <span class="st">&#39;Hello World&#39;</span></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="unterschiede-zwischen-ref-und-reactive-1"
class="slide section level1">
<h1>Unterschiede zwischen ref() und reactive()</h1>
<ul>
<li>Der Hauptunterschied zwischen ref() und reactive() liegt in der
Implementierung:
<ul>
<li>ref() verwendet getter und setter, um die Reaktivität zu
ermöglichen.</li>
<li>reactive() verwendet Proxy-Objekte, um die Reaktivität zu
ermöglichen.</li>
</ul></li>
<li>Generell ist es oftmals gute Praxis durchgängig ref() zu
verwenden.</li>
</ul>
</div>
<div id="deep-reactivity-und-ref" class="slide section level1">
<h1>Deep-Reactivity und ref()</h1>
<ul>
<li><p>Refs sind deep-reactive wenn Objekte oder Arrays bei der
Erzeugung der ref an die Funktion <code>ref()</code> übergeben
werden.</p></li>
<li><p>Dazu verwendet Vue.js intern die Funktion <code>reactive()</code>
um die Objekte oder Arrays zu tracken.</p></li>
<li><p>Deep refs():</p></li>
</ul>
<div class="sourceCode" id="cb20"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> <span class="fu">ref</span>({ count<span class="op">:</span> <span class="dv">0</span> })</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="kw">const</span> arr <span class="op">=</span> <span class="fu">ref</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>])</span></code></pre></div>
<ul>
<li>Alternativ mit reactive():</li>
</ul>
<div class="sourceCode" id="cb21"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> <span class="fu">ref</span>(<span class="fu">reactive</span>({ count<span class="op">:</span> <span class="dv">0</span> }))</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="kw">const</span> arr <span class="op">=</span> <span class="fu">ref</span>(<span class="fu">reactive</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>]))</span></code></pre></div>
<ul>
<li>Der Zugriff über .value ist bei <code>reactive</code> nicht
notwendig, da Javascript es ermöglicht, die Eigenschaften eines Objektes
und eines Arrays mittels eines Proxy-Objektes zu tracken. Dies
funktioniert nur bei Objekten und Arrays.</li>
</ul>
</div>
<div id="eigenschaften-des-proxy-der-von-reactive-erzeugt-wird."
class="slide section level1">
<h1>Eigenschaften des Proxy der von reactive() erzeugt wird.</h1>
<ul>
<li>Proxys sind
zwar<code>von aussen transparent, aber der Vergleich mit dem Originalobjekt ergibt</code>false`.</li>
</ul>
<div class="sourceCode" id="cb22"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="kw">const</span> c <span class="op">=</span> { count<span class="op">:</span> <span class="dv">0</span> }</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> <span class="fu">reactive</span>(c)</span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(obj <span class="op">===</span> c) <span class="co">// false</span></span></code></pre></div>
</div>
<div id="performance-von-ref-und-reactive" class="slide section level1">
<h1>Performance von ref() und reactive()</h1>
<ul>
<li><p>Bei großen Objekten, insbesondere den Rückgabeobjekten von APIs,
kann es zu Performanceproblemen kommen. In diesem Fall ist es besser,
nur die benötigten Eigenschaften zu tracken.</p></li>
<li><p>Eine Liste von 1000 Objeken erzeugt auch immer mindestens 1001
Proxies. Bei tiefer verschachtelten Objekten auch entsprechend
mehr.</p></li>
</ul>
</div>
<div id="shallow-reactivity-mit-shallowref-und-shallowreactive"
class="slide section level1">
<h1>Shallow-Reactivity mit shallowRef() und shallowReactive()</h1>
<ul>
<li>Mit shallowRef() und shallowReactive() wird eine flache Reaktivität
erreicht.</li>
<li>Bei ref() und shallowRef() gibt es nur einen Unterschied falls das
überwachte Objekte ein Array oder ein Objekt ist.</li>
<li>shallowRef() und shallowReactive() tracken nur die oberste Ebene des
Objektes oder Arrays.</li>
</ul>
<div class="sourceCode" id="cb23"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="im">import</span> { shallowRef<span class="op">,</span> shallowReactive } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> <span class="fu">shallowRef</span>({ count<span class="op">:</span> <span class="dv">0</span> })</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="kw">const</span> arr <span class="op">=</span> <span class="fu">shallowRef</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span>])</span></code></pre></div>
<ul>
<li>Damit Observer (watcher, watchEffect, computedRef, das Template)
eine Änderung erkennen, muss das Objekt oder Array neu zugewiesen
werden.</li>
</ul>
<div class="sourceCode" id="cb24"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="kw">const</span> obj <span class="op">=</span> <span class="fu">shallowRef</span>({ count<span class="op">:</span> <span class="dv">0</span> })</span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>obj<span class="op">.</span><span class="at">value</span><span class="op">.</span><span class="at">count</span> <span class="op">=</span> <span class="dv">1</span> <span class="co">// Änderung wird nicht erkannt</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a>obj<span class="op">.</span><span class="at">value</span> <span class="op">=</span> { count<span class="op">:</span> <span class="dv">1</span> } <span class="co">// Änderung wird erkannt</span></span></code></pre></div>
<ul>
<li>PS: React (useState, useReducer) kennt NUR shallow-Reaktivität.</li>
</ul>
</div>
<div id="debugging-und-das-loswerden-von-proxys-und-refs-wrappern"
class="slide section level1">
<h1>Debugging und das Loswerden von Proxys und Refs (Wrappern)</h1>
<ul>
<li>Mit unref() wird der eingepackte Wert einer Refs zurückgegeben.</li>
<li>Mit toRaw() wird der eingepackte Wert eines Proxy-Objektes
zurückgegeben.</li>
</ul>
</div>
<div id="unterschiede-zwischen-ref-und-reactive-2"
class="slide section level1">
<h1>Unterschiede zwischen ref() und reactive()</h1>
<ul>
<li><p>ref() für primitive Werte möglich. Der Zugriff auf den Wert
erfolgt über .value. In Vue-Templates ist der .value-Zugriff nicht
notwendig.</p></li>
<li><p>reactive() für komplexe Objekte und Arrays. Der Zugriff auf die
Werte erfolgt direkt über die Objekteigenschaften.</p></li>
<li><p>ref() with mittels getter und setter implementiert. reactive()
ist ein Proxy-Objekt.</p></li>
<li><p>die Shallow-Reaktivität kann mit shallowRef() und
shallowReactive() erreicht werden und bezieht sich nur auf die Objekte
in der obersten Ebene.</p></li>
</ul>
</div>
<div id="computed-properties-und-watchers" class="slide section level1">
<h1>Computed Properties und Watchers</h1>
<ul>
<li>Definition von berechneten Eigenschaften mit computed() inkl.
automatischen Tracking der verwendeten Refs). Computed() erzeugt aber
keinen Callback sondern eine weitere Ref.</li>
</ul>
</div>
<div id="beobachten-von-änderungen-an-reaktiven-datenquellen-mit-watch"
class="slide section level1">
<h1>Beobachten von Änderungen an reaktiven Datenquellen mit watch()</h1>
<p>watchEffect() ist wie Watch aber mit automatischen Tracking der
verwendeten Refs. Watch() ist expliziter und kann auch auf tiefere
Ebenen zugreifen. Sowohl watch() als auch watchEffect() können async
sein und können auch auf die alten und neuen Werte zugreifen. Beide
werden mit einem Callback aufgerufen, welcher dann bei Änderung der
getrackten oder expliziten Refs aufgerufen wird.</p>
<ul>
<li>Um bei watch() tiefe Änderungen zu tracken, muss die Option
<code>deep: true</code> gesetzt werden.</li>
</ul>
<div class="sourceCode" id="cb25"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="fu">watch</span>(() <span class="kw">=&gt;</span> state<span class="op">.</span><span class="at">obj</span><span class="op">,</span> (newVal<span class="op">,</span> oldVal) <span class="kw">=&gt;</span> {</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Value changed:&#39;</span><span class="op">,</span> newVal)</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>}<span class="op">,</span> { deep<span class="op">:</span> <span class="kw">true</span> })</span></code></pre></div>
</div>
<div id="übersicht-über-die-reaktivität-von-vue.js"
class="slide section level1">
<h1>Übersicht über die Reaktivität von Vue.js</h1>
<ul>
<li><p>ref() für primitive Werte</p></li>
<li><p>reactive() für komplexe Objekte und Arrays</p></li>
<li><p>shallowRef() für flache Reaktivität</p></li>
<li><p>shallowReactive() für flache Reaktivität bei Objekten</p></li>
<li><p>toRef() für die Weitergabe von Reaktivität . toRefs() für die
Weitergabe von Reaktivität an mehrere Refs</p></li>
<li><p>readonly() für schreibgeschützte Refs</p></li>
<li><p>isRef() und isReactive() für Typüberprüfungen</p></li>
<li><p>watch() und watchEffect() für die Beobachtung von
Änderungen</p></li>
<li><p>computed() für die Definition von berechneten Eigenschaften mit
weitergeleiteter Reaktivität</p></li>
<li><p>unref() für den Zugriff auf den eingepackten Wert eines
Refs</p></li>
<li><p>Die Optionen bei refs, watch und computed beachten.</p></li>
</ul>
</div>
<div id="weitere-funktion-der-reactitivy-api-von-vue"
class="slide section level1">
<h1>Weitere Funktion der Reactitivy-API von VUE</h1>
<ul>
<li>toRef() und toRefs() für die Weitergabe von Reaktivität</li>
<li>readonly() für schreibgeschützte Refs</li>
<li>isRef() und isReactive() für Typüberprüfungen</li>
<li>markRaw() für die Markierung von Objekten die nicht reaktiv gemacht
werden sollen.</li>
</ul>
</div>
<div id="toref-und-torefs" class="slide section level1">
<h1>toRef und toRefs</h1>
<ul>
<li>Insbesondere bei Stores wie Pinia oder Composables wird toRefs()
verwendet, um die Reaktivität im Rahmen eines Destructuring-Assignments
weiterzugeben.</li>
</ul>
<div class="sourceCode" id="cb26"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="kw">const</span> state <span class="op">=</span> <span class="fu">reactive</span>({</span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>    count<span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>    message<span class="op">:</span> <span class="st">&#39;Hello World&#39;</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a>})</span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="co">// count und message sind einfache Javavariablen (number und string)</span></span>
<span id="cb26-6"><a href="#cb26-6" tabindex="-1"></a><span class="kw">const</span> { count<span class="op">,</span> message } <span class="op">=</span> state</span>
<span id="cb26-7"><a href="#cb26-7" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" tabindex="-1"></a><span class="co">// count und message sind refs und haben die .value eigenschaft</span></span>
<span id="cb26-9"><a href="#cb26-9" tabindex="-1"></a><span class="kw">const</span> { count<span class="op">,</span> message } <span class="op">=</span> <span class="fu">toRefs</span>(state)  </span></code></pre></div>
</div>
<div id="einsatz-mehrerer-root-elemente-fragments"
class="slide section level1">
<h1>Einsatz mehrerer Root Elemente / Fragments</h1>
<ul>
<li><p>Im Gegensatz zu Vue2 können in Vue3 mehrere Root-Elemente in
einem Template verwendet werden.</p></li>
<li><p>Vue3 unterstützt das neue Pseudo-Element
<code>&lt;template&gt;</code>, um mehrere Elemente zu
gruppieren.</p></li>
<li><p><code>&lt;template&gt;</code> Elemente werden nicht gerendert und
sind somit nicht im DOM des Browsers sichtbar.</p></li>
<li><p><code>&lt;template&gt;</code> eigenen sich somit auch für
Schleifen und Bedingungen.</p></li>
<li><p>Ein Vue3 Template mit mehreren Root-Elementen könnte so
aussehen:</p></li>
</ul>
<div class="sourceCode" id="cb27"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Vue 3<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Vue 3 ist da!<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb27-5"><a href="#cb27-5" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-6"><a href="#cb27-6" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-7"><a href="#cb27-7" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">h2</span><span class="dt">&gt;</span>Vue 3 Features<span class="dt">&lt;/</span><span class="kw">h2</span><span class="dt">&gt;</span></span>
<span id="cb27-8"><a href="#cb27-8" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Composition API<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb27-9"><a href="#cb27-9" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Teleport<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb27-10"><a href="#cb27-10" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb27-11"><a href="#cb27-11" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="templates-komponenten-direktiven" class="slide section level1">
<h1>Templates, Komponenten, Direktiven</h1>
<ul>
<li>Erstellen von Components</li>
<li>Templates und Template-Syntax</li>
<li>Data-Binding mit Attributes und v-bind</li>
<li>Two-Way-Binding mit v-model</li>
<li>Event-Binding mit v-on</li>
<li>Verwenden der Shorthand Bindings</li>
<li>Binding von Computed Properties</li>
<li>Darstellung von Daten mit Interpolation</li>
<li>Bedingte Darstellung von Inhalten mit v-if und v-show</li>
<li>Elemente wiederholen mit v-for</li>
<li>Styling von Components</li>
<li>Bedingte Formatierung mit style- und class-Bindings</li>
<li>Verwendung von SASS und anderen CSS-Präprozessoren</li>
<li>Verwendung einzelner Lifecycle Hooks</li>
</ul>
</div>
<div id="erstellen-von-components" class="slide section level1">
<h1>Erstellen von Components</h1>
<ul>
<li>Der reguläre Weg ist es Komponenten in Vue SFC (Single File
Components) zu erstellen.</li>
<li>Bekannstes “Hello-World” Beispiel ist die Komponente “Counter”</li>
</ul>
<div class="sourceCode" id="cb28"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Counter<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>{{ count }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">button</span> <span class="er">@click</span><span class="ot">=</span><span class="st">&quot;increment&quot;</span><span class="dt">&gt;</span>Increment<span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb28-7"><a href="#cb28-7" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb28-8"><a href="#cb28-8" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span> <span class="er">setup</span><span class="dt">&gt;</span></span>
<span id="cb28-9"><a href="#cb28-9" tabindex="-1"></a><span class="im">import</span> { ref } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb28-10"><a href="#cb28-10" tabindex="-1"></a><span class="kw">const</span> count <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">0</span>)</span>
<span id="cb28-11"><a href="#cb28-11" tabindex="-1"></a><span class="kw">const</span> increment <span class="op">=</span> () <span class="kw">=&gt;</span> count<span class="op">.</span><span class="at">value</span><span class="op">++</span>  <span class="co">// funktion zum erhöhen</span></span>
<span id="cb28-12"><a href="#cb28-12" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div
id="templates-und-template-syntax-javascript-ausdrücke-in-templates"
class="slide section level1">
<h1>Templates und Template-Syntax# Javascript Ausdrücke in
Templates</h1>
<ul>
<li>In Vue3 können in Templates Javascript-Ausdrücke verwendet
werden.</li>
<li>Die Ausdrücke werden in doppelten geschweiften Klammern
<code>{{ }}</code> geschrieben.</li>
<li>(Achtung: In HTML-Attributen kann die {{}} Notation nicht verwendet
werden.)</li>
</ul>
<div class="sourceCode" id="cb29"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>{{ title }}<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>{{ &#39;Vue 3 says Hi&#39; }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>{{ 20 + 30 }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span><span class="dt">&gt;</span></span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a><span class="kw">const</span> title <span class="op">=</span> <span class="st">&#39;Vue 3&#39;</span></span>
<span id="cb29-10"><a href="#cb29-10" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li>PS: Die {{ }} Notation wird auch als Mustache-Interpolation
bezeichnet.</li>
</ul>
</div>
<div id="verwendung-von-.value-in-templates"
class="slide section level1">
<h1>Verwendung von .value in Templates</h1>
<ul>
<li>In Vue3 muss auf Reaktive Variablen und Refs in Templates mit
<code>.value</code> zugegriffen werden.</li>
<li>Das <code>.value</code> ist notwendig, weil Vue die Refs als
Wrapper-Objekte verwendet.</li>
<li>In Templates darf .value hingegen nicht verwendet werden. Vue
erzeugt diesen Zugriff automatisch.</li>
</ul>
<div class="sourceCode" id="cb30"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span>{{ count }}<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">button</span> <span class="er">@click</span><span class="ot">=</span><span class="st">&quot;increment&quot;</span><span class="dt">&gt;</span>Increment<span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb30-6"><a href="#cb30-6" tabindex="-1"></a><span class="im">import</span> { ref } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb30-7"><a href="#cb30-7" tabindex="-1"></a><span class="kw">const</span> count <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">0</span>)</span>
<span id="cb30-8"><a href="#cb30-8" tabindex="-1"></a><span class="kw">const</span> increment <span class="op">=</span> () <span class="kw">=&gt;</span> count<span class="op">.</span><span class="at">value</span><span class="op">++</span></span>
<span id="cb30-9"><a href="#cb30-9" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="event-handler-in-templates" class="slide section level1">
<h1>Event Handler in Templates</h1>
<ul>
<li>In Vue3 können Event-Handler in Templates verwendet werden.</li>
<li>Dazu definiert Vue eine Reihe von Direktiven wie
<code>@click</code>, <code>@mouseover</code>, <code>@submit</code>
etc.</li>
<li>Die Direktiven enthalten den Javascript Code der beim Eintreten des
Events ausgeführt werden soll.</li>
</ul>
<div class="sourceCode" id="cb31"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">button</span> <span class="er">@click</span><span class="ot">=</span><span class="st">&quot;increment&quot;</span><span class="dt">&gt;</span>Increment<span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span><span class="dt">&gt;</span></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a><span class="im">import</span> { ref } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="kw">const</span> count <span class="op">=</span> <span class="fu">ref</span>(<span class="dv">0</span>)</span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a><span class="kw">const</span> <span class="kw">function</span> <span class="fu">increment</span>() { count<span class="op">.</span><span class="at">value</span><span class="op">++</span> }</span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="co">//const increment = () =&gt; count.value++</span></span></code></pre></div>
</div>
<div id="javascript-in-attributen-von-templates"
class="slide section level1">
<h1>Javascript in Attributen von Templates</h1>
<ul>
<li>In Vue3 können in Attributen von HTML-Elementen und Componenten
Javascript-Ausdrücke verwendet werden.</li>
<li>Die allgemeine Syntax ist <code>v-bind:attribut="ausdruck"</code>
oder die Kurzform <code>:attribut="ausdruck"</code>.</li>
</ul>
<div class="sourceCode" id="cb32"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">img</span> <span class="er">:src</span><span class="ot">=</span><span class="st">&quot;image&quot;</span> <span class="er">v-bind:alt</span><span class="ot">=</span><span class="st">&quot;altText&quot;</span><span class="dt">&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span><span class="dt">&gt;</span></span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a><span class="kw">const</span> image <span class="op">=</span> <span class="st">&#39;https://vuejs.org/images/logo.png&#39;</span></span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a><span class="kw">const</span> altText <span class="op">=</span> <span class="st">&#39;Vue Logo&#39;</span></span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="data-binding-mit-attributes-und-v-bind"
class="slide section level1">
<h1>Data-Binding mit Attributes und v-bind</h1>
<p>Wie auch bei den Templates werden können Refs und Reaktive Variablen
in Attributen von HTML-Elementen und Componenten verwendet werden. Eine
Änderung an den Variablen wird automatisch erkannt und die UI
aktualisiert.</p>
<p>(Die UI verwendet dafür den gleichen Mechanismus wie
watchEffect).</p>
</div>
<div id="two-way-binding-mit-v-model" class="slide section level1">
<h1>Two-Way-Binding mit v-model</h1>
<ul>
<li><p>Um mittels v-bind: eine Variable an ein Input-Element zu binden
und gleichzeitig die Änderungen des Inputs in der Variable zu speichern,
kann v-model verwendet werden.</p></li>
<li><p>Ohne v-model würde man v-bind (Kurzform: :) und v-on (Kurzform:
@) verwenden.</p></li>
<li><p>V-Bind erledigt beides automatisch (Binding und Event-Handling)
und implementiert somit eine 2-Way-Data-Binding.</p></li>
</ul>
<div class="sourceCode" id="cb33"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">input</span> <span class="er">v-model</span><span class="ot">=</span><span class="st">&quot;message&quot;</span> <span class="er">placeholder</span><span class="ot">=</span><span class="st">&quot;Enter message&quot;</span><span class="dt">&gt;</span></span>
<span id="cb33-4"><a href="#cb33-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Message: {{ message }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb33-5"><a href="#cb33-5" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb33-6"><a href="#cb33-6" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb33-7"><a href="#cb33-7" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb33-8"><a href="#cb33-8" tabindex="-1"></a><span class="im">import</span> { ref } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb33-9"><a href="#cb33-9" tabindex="-1"></a><span class="kw">const</span> message <span class="op">=</span> <span class="fu">ref</span>(<span class="st">&#39;&#39;</span>)</span>
<span id="cb33-10"><a href="#cb33-10" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="event-binding-mit-v-on" class="slide section level1">
<h1>Event-Binding mit v-on</h1>
<ul>
<li><p>Die Event-Behandlung in Vue3 erfolgt über das
<code>v-on</code>-Directive.</p></li>
<li><p>Die Kurzform von <code>v-on</code> ist <code>@</code>.</p></li>
<li><p>Die allgemeine Syntax ist <code>v-on:event="handler"</code> oder
die Kurzform <code>@event="handler"</code>.</p></li>
<li><p>Die wichtigsten Events sind:</p>
<ul>
<li><code>click</code></li>
<li><code>input</code></li>
<li><code>change</code></li>
<li><code>submit</code></li>
<li><code>keydown</code></li>
<li><code>keyup</code></li>
<li><code>focus</code></li>
<li><code>blur</code></li>
</ul></li>
</ul>
<p>und entsprechen den nativen HTML-Events.</p>
<ul>
<li>PS: Blur ist das Gegenstück zu Focus, also Focus-Lost.</li>
</ul>
</div>
<div id="verwenden-der-shorthand-bindings" class="slide section level1">
<h1>Verwenden der Shorthand Bindings</h1>
<ul>
<li>Die Shorthand Bindings sind eine Abkürzung für die v-bind und v-on
Direktiven.</li>
<li>Die Shorthand Bindings sind:
<ul>
<li><code>:</code> für v-bind</li>
<li><code>@</code> für v-on</li>
</ul></li>
<li>Die allgemeine Syntax ist <code>:attribute="value"</code> oder
<code>@event="handler"</code>.</li>
<li>Es gibt keinen Unterschied in der Funktionalität, nur in der
Schreibweise.</li>
</ul>
<div class="sourceCode" id="cb34"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">img</span> <span class="er">:src</span><span class="ot">=</span><span class="st">&quot;image&quot;</span> <span class="er">:alt</span><span class="ot">=</span><span class="st">&quot;altText&quot;</span> <span class="er">@click</span><span class="ot">=</span><span class="st">&quot;handleClick&quot;</span><span class="dt">&gt;</span></span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span><span class="dt">&gt;</span></span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a><span class="kw">const</span> image <span class="op">=</span> <span class="st">&#39;https://vuejs.org/images/logo.png&#39;</span></span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a><span class="kw">const</span> altText <span class="op">=</span> <span class="st">&#39;Vue Logo&#39;</span></span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a><span class="kw">const</span> handleClick <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="fu">alert</span>(<span class="st">&#39;Vue 3&#39;</span>)</span>
<span id="cb34-10"><a href="#cb34-10" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="binding-von-computed-refs" class="slide section level1">
<h1>Binding von Computed-Refs</h1>
<ul>
<li><p>Computed-Refs sind Funktionen, die abhängig von anderen Variablen
berechnet werden. (Siehe die Folien über die Reaktivität in
Vue3).</p></li>
<li><p>Computed-Refs können in Templates verwendet werden, um die
Darstellung von Daten zu steuern.</p></li>
<li><p>Die allgemeine Syntax ist
<code>v-bind:attribut="computedProperty"</code> oder die Kurzform
<code>:attribut="computedProperty"</code>.</p></li>
<li><p>Computed-Refs sind nur lesbar, d.h. sie können nicht direkt
geändert werden.</p></li>
<li><p>Aus Sicht eines Beobachters sind Computed-Refs reaktive Variablen
und gleichwertig zu plain Refs.</p></li>
</ul>
</div>
<div id="darstellung-von-daten-mit-interpolation"
class="slide section level1">
<h1>Darstellung von Daten mit Interpolation</h1>
<ul>
<li>Innerhalb von Elementen können Daten mit doppelten geschweiften
Klammern <code>{{ }}</code> dargestellt werden.</li>
<li>Attribute können nicht mit <code>{{ }}</code> zu dynamischen
Attributen gemacht werden.</li>
<li>Dafür muss v-bind (Kurzform <code>:</code>) verwendet werden.</li>
</ul>
<div class="sourceCode" id="cb35"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-3"><a href="#cb35-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>{{ title }}<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb35-4"><a href="#cb35-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>{{ &#39;Vue 3 says Hi&#39; }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb35-5"><a href="#cb35-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>{{ 20 + 30 }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb35-6"><a href="#cb35-6" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb35-7"><a href="#cb35-7" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb35-8"><a href="#cb35-8" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span><span class="dt">&gt;</span></span>
<span id="cb35-9"><a href="#cb35-9" tabindex="-1"></a><span class="kw">const</span> title <span class="op">=</span> <span class="st">&#39;Vue 3&#39;</span></span>
<span id="cb35-10"><a href="#cb35-10" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="bedingte-darstellung-von-inhalten-mit-v-if-und-v-show"
class="slide section level1">
<h1>Bedingte Darstellung von Inhalten mit v-if und v-show</h1>
<ul>
<li><p>Fallunterscheidungen in Vue werden mit den Direktiven
<code>v-if</code> und <code>v-show</code> realisiert.</p></li>
<li><p><code>v-if</code> entfernt das Element aus dem DOM, wenn der
Ausdruck <code>false</code> ergibt.</p></li>
<li><p>Das entspricht CSS von <code>display: none</code> im Falle von
<code>v-show</code> mit dem Wert <code>false</code>.</p></li>
<li><p><code>v-if</code> entfernt das Element komplett, während
<code>v-show</code> es im DOM belässt und nur nicht anzeigt.</p></li>
<li><p>Be <code>v-if</code> werden auch die entsprechenden
Lifecycle-Hooks aufgerufen, während <code>v-show</code> nur das
CSS-Display-Property ändert.</p></li>
</ul>
</div>
<div
id="beispiel-für-ein-komponente-die-ihre-kinder-ein--und-ausblendet"
class="slide section level1">
<h1>Beispiel für ein Komponente die Ihre Kinder ein- und ausblendet</h1>
<div class="sourceCode" id="cb36"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">button</span> <span class="er">@click</span><span class="ot">=</span><span class="st">&quot;toggle&quot;</span><span class="dt">&gt;</span>Toggle<span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">v-if</span><span class="ot">=</span><span class="st">&quot;show&quot;</span><span class="dt">&gt;&lt;</span><span class="kw">slot</span><span class="dt">&gt;&lt;/</span><span class="kw">slot</span><span class="dt">&gt;&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb36-6"><a href="#cb36-6" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb37"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="im">import</span> { ref } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="kw">const</span> show <span class="op">=</span> <span class="fu">ref</span>(<span class="kw">true</span>)</span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a><span class="kw">const</span> toggle <span class="op">=</span> () <span class="kw">=&gt;</span> show<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="op">!</span>show<span class="op">.</span><span class="at">value</span></span></code></pre></div>
</div>
<div id="v-if-v-else-if-und-v-else" class="slide section level1">
<h1>V-if, v-else-if und v-else</h1>
<ul>
<li>Bei Bedingungen mit mehreren Fällen kann <code>v-else-if</code> und
<code>v-else</code> verwendet werden.</li>
</ul>
<div class="sourceCode" id="cb38"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">v-if</span><span class="ot">=</span><span class="st">&quot;type === &#39;A&#39;&quot;</span><span class="dt">&gt;</span>A<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">v-else-if</span><span class="ot">=</span><span class="st">&quot;type === &#39;B&#39;&quot;</span><span class="dt">&gt;</span>B<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">v-else</span><span class="dt">&gt;</span>C<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-6"><a href="#cb38-6" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb38-7"><a href="#cb38-7" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="elemente-wiederholen-mit-v-for" class="slide section level1">
<h1>Elemente wiederholen mit v-for</h1>
<ul>
<li>Schleifen in Vue.js werden mit <code>v-for</code> realisiert.</li>
<li>Dazu wird v-for in einem Element verwendet, das wiederholt werden
soll. Man kann auch das Pseudoelement &amp;l;template&lt;/&gt;
verwenden, wenn man kein zusätzliches Element im DOM haben möchte.</li>
<li>Die Syntax von v-for ist <code>v-for="item in items"</code>, wobei
<code>items</code> ein Array ist, das durchlaufen wird.</li>
<li>In einer erweiterten Syntax kann man auch den Index des Elements
verwenden: <code>v-for="(item, index) in items"</code>.</li>
</ul>
<div class="sourceCode" id="cb39"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb39-3"><a href="#cb39-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h2</span><span class="dt">&gt;</span>Vue 3 List<span class="dt">&lt;/</span><span class="kw">h2</span><span class="dt">&gt;</span></span>
<span id="cb39-4"><a href="#cb39-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">ul</span><span class="dt">&gt;</span></span>
<span id="cb39-5"><a href="#cb39-5" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">li</span> <span class="er">v-for</span><span class="ot">=</span><span class="st">&quot;item in items&quot;</span> <span class="er">:key</span><span class="ot">=</span><span class="st">&quot;item.id&quot;</span><span class="dt">&gt;</span>{{ item.name }}<span class="dt">&lt;/</span><span class="kw">li</span><span class="dt">&gt;</span></span>
<span id="cb39-6"><a href="#cb39-6" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">ul</span><span class="dt">&gt;</span></span>
<span id="cb39-7"><a href="#cb39-7" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb39-8"><a href="#cb39-8" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="der-schlüssel-key-bei-v-for" class="slide section level1">
<h1>Der Schlüssel / Key bei v-for</h1>
<ul>
<li>Bei der Verwendung von <code>v-for</code> ist es wichtig, einen
Schlüssel zu definieren.</li>
<li>Der Schlüssel ist ein eindeutiger Wert, der Vue hilft, die Elemente
zu identifizieren und zu verwalten.</li>
<li>Der Schlüssel sollte eindeutig sein und sich nicht ändern.</li>
<li>Der Schlüssel kann auch aus mehreren Werten bestehen, wenn die
Elemente nicht eindeutig sind.</li>
<li>Den Index als Schlüssel zu verwenden ist nicht empfohlen, da es
unter Umständen eine fachlich korrekte ID gibt, die nicht nur von der
Position im Array abhängt.</li>
</ul>
</div>
<div id="v-auto-animate" class="slide section level1">
<h1>V-auto-animate</h1>
<ul>
<li>Insbesondere bei der Verwendung von <code>v-auto-animate</code> ist
es wichtig, dass die Elemente eindeutig sind und einen inhärenten
Schlüssel haben. Der Schleifenindex führt zu falschen Animationen wenn
Element entfernt oder eingefügt werden.</li>
</ul>
</div>
<div id="styling-von-components" class="slide section level1">
<h1>Styling von Components</h1>
<ul>
<li>Componenten können mit den üblichen CSS-Selektoren gestyled
werden.</li>
<li>Falls man die Styles programmatisch setzt, so sollte man den
richtigen Typ für die CSS-Eigenschaften verwenden.</li>
</ul>
<div class="sourceCode" id="cb40"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span> <span class="er">:style</span><span class="ot">=</span><span class="st">&quot;{ color: textColor }&quot;</span><span class="dt">&gt;</span>Hello World<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb40-5"><a href="#cb40-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb40-6"><a href="#cb40-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb40-7"><a href="#cb40-7" tabindex="-1"></a><span class="im">import</span> { CSSProperties } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb40-8"><a href="#cb40-8" tabindex="-1"></a><span class="kw">const</span> styles <span class="op">=</span> { } satisfies CSSProperties</span>
<span id="cb40-9"><a href="#cb40-9" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="typisierte-styles" class="slide section level1">
<h1>Typisierte Styles</h1>
<p>Es gibt 2 Möglichkeiten die Styles zu typisieren:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li></li>
</ol></li>
</ul>
<div class="sourceCode" id="cb41"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="kw">const</span> styles <span class="op">=</span> { } <span class="im">as</span> CSSProperties</span></code></pre></div>
<ul>
<li><ol start="2" style="list-style-type: decimal">
<li></li>
</ol></li>
</ul>
<div class="sourceCode" id="cb42"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="kw">const</span> styles <span class="op">=</span> { } satisfies CSSProperties</span></code></pre></div>
<ul>
<li><ol start="3" style="list-style-type: decimal">
<li></li>
</ol></li>
</ul>
<div class="sourceCode" id="cb43"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="kw">const</span> styles<span class="op">:</span> CSSProperties <span class="op">=</span> {</span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Von Variante 1 ist dringen abzuraten, da sie nicht sicher ist. Man
ist nicht vor Fehlern geschützt.</li>
<li>Alle Eigenschaften der CSSProperties sind optional.</li>
<li>Die CSS Eigenschaften sind in der camelCase-Schreibweise zu
verwenden, damit man diese in Javascript nicht in Anführungszeichen
setzen muss. In CSS selber wird die kebab-case-Schreibweise
verwendet.</li>
<li>Beispiel: <code>background-color</code> in CSS wird in
Javascript/Typescript zu <code>backgroundColor</code>.</li>
</ul>
</div>
<div id="mehrfache-style-und-class-attributes"
class="slide section level1">
<h1>Mehrfache Style und Class Attributes</h1>
<ul>
<li>Sehr praktisch: Style und Class Bindings können mehrfach im gleichen
Element spezifiziert werden. So kann man zum Beispiel Basis-Styles und
Zustands-Styles getrennt voneinander setzen.</li>
</ul>
<div class="sourceCode" id="cb44"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">:style</span><span class="ot">=</span><span class="st">&quot;{ color: textColor }&quot;</span> <span class="er">:class</span><span class="ot">=</span><span class="st">&quot;{ &#39;bg-red-500&#39;: isRed }&quot;</span><span class="dt">&gt;</span></span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Hello World<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb44-6"><a href="#cb44-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb44-7"><a href="#cb44-7" tabindex="-1"></a><span class="im">import</span> { CSSProperties } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb44-8"><a href="#cb44-8" tabindex="-1"></a><span class="kw">const</span> styles <span class="op">=</span> { } satisfies CSSProperties</span>
<span id="cb44-9"><a href="#cb44-9" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="bedingte-formatierung-mit-style--und-class-bindings"
class="slide section level1">
<h1>Bedingte Formatierung mit style- und class-Bindings</h1>
<ul>
<li><p>Wie alle Attribute mit v-bind (Kurzform :) gebunden werden
können, können auch die Attribute <code>style</code> und
<code>class</code> gebunden werden.</p></li>
<li><p>Dies ermöglicht bedingte Formatierungen von Elementen.</p></li>
<li><p>Die Attribute können mehrfach hintereinander im Template
angegeben werden.</p></li>
</ul>
<div class="sourceCode" id="cb45"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">:style</span><span class="ot">=</span><span class="st">&quot;{ color: textColor }&quot;</span> <span class="er">:class</span><span class="ot">=</span><span class="st">&quot;{ &#39;bg-red-500&#39;: isRed }&quot;</span><span class="dt">&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Hello World<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb45-4"><a href="#cb45-4" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb45-5"><a href="#cb45-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li>Siehe auch Folien zur verwendung von Styles.</li>
<li>Wenn die Styles im Script Block definiert werden, empfiehlt sich
eine Typisierung der Styles.</li>
</ul>
<div class="sourceCode" id="cb46"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a></span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="kw">const</span> styles <span class="op">=</span> { color<span class="op">:</span> <span class="st">&quot;red&quot;</span> } satisfies CSSProperties</span></code></pre></div>
<ul>
<li>Falls die Styles wiederrum von anderen Refs abhängen, sollten die
Styles computed() sein und alles funkioniert wie gewünscht.</li>
</ul>
<div class="sourceCode" id="cb47"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="kw">const</span> styles <span class="op">=</span> <span class="fu">computed</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a>    <span class="cf">return</span> { color<span class="op">:</span> <span class="st">&quot;red&quot;</span> } satisfies CSSProperties</span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="verwendung-von-sass-und-anderen-css-präprozessoren"
class="slide section level1">
<h1>Verwendung von SASS und anderen CSS-Präprozessoren</h1>
<ul>
<li>Vite unterstützt die Verwendung von SASS und anderen
CSS-Präprozessoren.</li>
<li>Die Installation von SASS erfolgt über NPM:</li>
</ul>
<div class="sourceCode" id="cb48"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-D</span> sass</span></code></pre></div>
<ul>
<li>Anschließend kann SASS in den <code>.vue</code>-Files verwendet
werden:</li>
</ul>
<pre class="vue"><code>&lt;style lang=&quot;scss&quot;&gt;
// sass variablen definition
$primary-color: #333;
&lt;/style&gt;</code></pre>
<ul>
<li>SASS kann auch in eigenen Files verwendet werden:</li>
</ul>
<pre class="vue"><code>&lt;style lang=&quot;scss&quot;&gt;
@import &#39;./styles.scss&#39;;
&lt;/style&gt;</code></pre>
<ul>
<li>Außerdem kann man auch die alternative Syntax von SASS
verwenden:</li>
</ul>
<pre class="vue"><code>&lt;style lang=&quot;sass&quot;&gt;
&lt;/style&gt;</code></pre>
</div>
<div id="verwendung-von-less" class="slide section level1">
<h1>Verwendung von Less</h1>
<ul>
<li>Less (ein weiterer CSS-Präprozessor) kann ebenfalls verwendet
werden.</li>
<li>Die Installation von Less erfolgt über NPM:</li>
</ul>
<div class="sourceCode" id="cb52"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-D</span> less</span></code></pre></div>
<ul>
<li>Danach können .less Files und auch Style-Tag mit
<code>lang=less</code> verwendet werden.</li>
<li>Ein Konfiguration ist auch über die <code>vite.config.js</code>
möglich:</li>
</ul>
<div class="sourceCode" id="cb53"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a><span class="im">import</span> { defineConfig } <span class="im">from</span> <span class="st">&#39;vite&#39;</span></span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a><span class="im">import</span> vue <span class="im">from</span> <span class="st">&#39;@vitejs/plugin-vue&#39;</span></span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a><span class="im">import</span> less <span class="im">from</span> <span class="st">&#39;vite-plugin-less&#39;</span></span>
<span id="cb53-4"><a href="#cb53-4" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="fu">defineConfig</span>({</span>
<span id="cb53-6"><a href="#cb53-6" tabindex="-1"></a>  <span class="dt">plugins</span><span class="op">:</span> [<span class="fu">vue</span>()<span class="op">,</span> <span class="fu">less</span>()]<span class="op">,</span></span>
<span id="cb53-7"><a href="#cb53-7" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="tailwind-und-postcss" class="slide section level1">
<h1>Tailwind und PostCSS</h1>
<ul>
<li>PostCSS ist ein CSS-Präprozessor, der viele Plugins unterstützt.
Tailwind CSS ist ein CSS-Framework, das auf PostCSS basiert.</li>
<li>Da Tailwind sich als beliebtes CSS-Framework etabliert hat, ist die
Verwendung von Tailwind und PostCSS in Vite sehr einfach.</li>
<li>Im Falle einer Verwendung von Tailwind CSS wird PostCSS und
Autoprefixer benötigt und PostCSS ist somit im Projekt verfügbar.</li>
<li>PostCSS wird automatisch von Vite verwendet und kann in der
<code>postcss.config.js</code> konfiguriert werden.</li>
</ul>
</div>
<div id="verwendung-einzelner-lifecycle-hooks"
class="slide section level1">
<h1>Verwendung einzelner Lifecycle Hooks</h1>
<ul>
<li>Die Lifecycle Hooks in Vue 3 sind:
<ul>
<li><code>beforeCreate</code></li>
<li><code>created</code></li>
<li><code>beforeMount</code></li>
<li><code>mounted</code></li>
<li><code>beforeUpdate</code></li>
<li><code>updated</code></li>
<li><code>beforeUnmount</code></li>
<li><code>unmounted</code></li>
<li><code>errorCaptured</code></li>
<li><code>renderTracked</code></li>
<li><code>renderTriggered</code></li>
</ul></li>
<li>Die wichtigsten Lifecycle Hooks sind <code>beforeMount</code>,
<code>mounted</code>, <code>updated</code> und
<code>unmounted</code>.</li>
</ul>
</div>
<div id="onmounted" class="slide section level1">
<h1>onMounted</h1>
<ul>
<li>Der <code>onMounted</code>-Hook wird aufgerufen wenn das Element im
DOM eingefügt wurde.</li>
<li>Man kann im Script-Bereich auch mehrere <code>onMounted</code>-Hooks
verwenden.</li>
</ul>
<div class="sourceCode" id="cb54"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>{{ message }}<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a><span class="im">import</span> { ref<span class="op">,</span> onMounted } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a><span class="kw">const</span> message <span class="op">=</span> <span class="st">&quot;hi&quot;</span></span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a></span>
<span id="cb54-10"><a href="#cb54-10" tabindex="-1"></a><span class="fu">onMounted</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb54-11"><a href="#cb54-11" tabindex="-1"></a>    <span class="co">// direkt DOM Manipulation</span></span>
<span id="cb54-12"><a href="#cb54-12" tabindex="-1"></a>    <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">&#39;h1&#39;</span>)<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> <span class="st">&#39;red&#39;</span></span>
<span id="cb54-13"><a href="#cb54-13" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>PS: Die direkte DOM-Manipulation sollte vermieden werden, wenn
möglich. Dieses Beispiel dient nur zur Veranschaulichung.</li>
</ul>
</div>
<div id="onunmounted" class="slide section level1">
<h1>onUnmounted</h1>
<ul>
<li>Der <code>onUnmounted</code>-Hook wird aufgerufen wenn das Element
aus dem DOM entfernt wird.</li>
<li>Wichtiges Regel ÜBERHAUPT(!!!):
<ul>
<li>Für jeden Seiteneffekt (wie hinzufügen von Listenern, Timern, etc.)
muss ein Cleanup gemacht werden.</li>
<li>Es muss also ein <code>onUnmounted</code>-Hook verwendet werden, um
die Listener zu entfernen der die Änderungen aus dem onMounted-Hook
rückgängig macht.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb55"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a><span class="im">import</span> { ref<span class="op">,</span> onMounted<span class="op">,</span> onUnmounted } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb55-2"><a href="#cb55-2" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" tabindex="-1"></a><span class="fu">onMounted</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb55-4"><a href="#cb55-4" tabindex="-1"></a>    <span class="kw">const</span> handleResize <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb55-5"><a href="#cb55-5" tabindex="-1"></a>       <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Resized&#39;</span>)</span>
<span id="cb55-6"><a href="#cb55-6" tabindex="-1"></a>    }</span>
<span id="cb55-7"><a href="#cb55-7" tabindex="-1"></a>    <span class="bu">window</span><span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&#39;resize&#39;</span><span class="op">,</span> handleResize)</span>
<span id="cb55-8"><a href="#cb55-8" tabindex="-1"></a>    <span class="fu">onUnmounted</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb55-9"><a href="#cb55-9" tabindex="-1"></a>        <span class="bu">window</span><span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">&#39;resize&#39;</span><span class="op">,</span> handleResize)</span>
<span id="cb55-10"><a href="#cb55-10" tabindex="-1"></a>    })</span>
<span id="cb55-11"><a href="#cb55-11" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="mounted-und-unmounted-mit-interval-timern"
class="slide section level1">
<h1>mounted und unmounted mit Interval-Timern</h1>
<ul>
<li>Ein weiteres Beispiel für die Verwendung von <code>mounted</code>
und <code>unmounted</code> ist die Verwendung von Interval-Timern.</li>
</ul>
<div class="sourceCode" id="cb56"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="im">import</span> { ref<span class="op">,</span> onMounted<span class="op">,</span> onUnmounted } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a><span class="fu">onMounted</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a>    <span class="kw">const</span> interval <span class="op">=</span> <span class="pp">setInterval</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Interval&#39;</span>)</span>
<span id="cb56-6"><a href="#cb56-6" tabindex="-1"></a>    }<span class="op">,</span> <span class="dv">1000</span>)</span>
<span id="cb56-7"><a href="#cb56-7" tabindex="-1"></a>    <span class="fu">onUnmounted</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb56-8"><a href="#cb56-8" tabindex="-1"></a>        <span class="pp">clearInterval</span>(interval)</span>
<span id="cb56-9"><a href="#cb56-9" tabindex="-1"></a>    })</span>
<span id="cb56-10"><a href="#cb56-10" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>Der Cleanup wird hier korrekt ausgeführt.</li>
<li>Der onUnmounted-Hook wird im onMounted registriert, was in Vue.js 3
eine sehr elegante Lösung ist.</li>
</ul>
</div>
<div id="onupdated" class="slide section level1">
<h1>onUpdated</h1>
<ul>
<li>Der <code>onUpdated</code>-Hook wird aufgerufen, wenn die Komponente
aktualisiert wird.</li>
<li>Der Hook wird auch beim ersten Rendern aufgerufen.</li>
</ul>
<div class="sourceCode" id="cb57"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a></span>
<span id="cb57-2"><a href="#cb57-2" tabindex="-1"></a><span class="kw">const</span> <span class="fu">onUpdated</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb57-3"><a href="#cb57-3" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Updated&#39;</span>)</span>
<span id="cb57-4"><a href="#cb57-4" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>Dieser Hook sollte in der Regel nicht verwendet werden um den DOM zu
manipulieren, sondern um Seiteneffekte zu triggern.</li>
<li>Die Hauptbedeutung liegt aber insbesondere im Verfolgen von zuvielen
Updates. Der Update-Hook wird bei jedem Update aufgerufen und gibt so
die Möglichkeit, die Anzahl der Updates zu beobachten.</li>
</ul>
</div>
<div id="kommunikation-zwischen-components"
class="slide section level1">
<h1>Kommunikation zwischen Components</h1>
<ul>
<li>Erstellen von Child-Components</li>
<li>Datenaustausch mit Child-Components über Props</li>
<li>Validierung von Props</li>
<li>Weitergabe an Parent-Components mit Events</li>
<li>Einfügen von Inhalten in Child-Components mit Slots</li>
<li>Daten Komponentenübergreifend übergeben und entgegennehmen mit
provide / inject</li>
<li>Verwendung der Portals-Komponente / Teleport</li>
</ul>
</div>
<div id="erstellen-von-child-components" class="slide section level1">
<h1>Erstellen von Child-Components</h1>
<ul>
<li><p>Komponenten sehr einfach in andere Komponente eingefügt werden,
indem Sie einfach im Template der Parent-Komponente eingefügt werden.
Außerdem muss die Komponente im Script-Teil der Parent-Komponente
importiert werden.</p></li>
<li><p>Bei der Verwendung von Nuxt.js gibt es einen Auto-Import von
Komponenten, die im <code>components</code>-Verzeichnis liegen. Dieses
Verhalten gibt es jedoch nicht in regulären Vue3-Projekten.</p></li>
</ul>
</div>
<div id="erstellen-einer-title-komponente" class="slide section level1">
<h1>Erstellen einer Title-Komponente</h1>
<ul>
<li>Eine Komponent zeigt einen Titel an und dazu den Inhalt der Ihr
übergeben wird.</li>
</ul>
<pre class="vue"><code>&lt;template&gt;
  &lt;div class=&quot;flex flex-col gap-2&quot;&gt;
    &lt;h1&gt;{{ title }}&lt;/h1&gt;
    &lt;slot&gt;&lt;/slot&gt;
  &lt;/div&gt;
&lt;/template&gt;
&lt;script setup lang=&quot;ts&quot;&gt;

const { title } = defineProps&lt;{
  title: string
}&gt;()

&lt;/script&gt;</code></pre>
</div>
<div id="datenaustausch-mit-child-components-über-props"
class="slide section level1">
<h1>Datenaustausch mit Child-Components über Props</h1>
<ul>
<li><p>Props sind die Attribute der Vue-Komponenten. Diese Props können
refs, reactive oder normale Objekte sein.</p></li>
<li><p>Props können (und sollen) auch komplexe Javascript-Object
sein.</p></li>
</ul>
</div>
<div id="übergabe-von-daten-an-die-title-komponente-via-props"
class="slide section level1">
<h1>übergabe von Daten an die Title-Komponente via Props</h1>
<ul>
<li><p>Props sind die Attribute der Vue-Komponenten.</p></li>
<li><p>Props können typsicher mittels <code>defineProps</code> definiert
werden.</p></li>
<li><p>Explizite Schreibweise:</p></li>
</ul>
<div class="sourceCode" id="cb59"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="kw">type</span> PropsType <span class="op">=</span> {</span>
<span id="cb59-2"><a href="#cb59-2" tabindex="-1"></a>  title<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb59-3"><a href="#cb59-3" tabindex="-1"></a>}</span>
<span id="cb59-4"><a href="#cb59-4" tabindex="-1"></a><span class="kw">const</span> props <span class="op">=</span> <span class="fu">defineProps</span><span class="op">&lt;</span>PropsType<span class="op">&gt;</span>()</span></code></pre></div>
<ul>
<li>Kompakte Schreibweise:</li>
</ul>
<div class="sourceCode" id="cb60"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="kw">const</span> { title } <span class="op">=</span> defineProps<span class="op">&lt;</span>{</span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a>  title<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb60-3"><a href="#cb60-3" tabindex="-1"></a>}<span class="op">&gt;</span>()</span></code></pre></div>
</div>
<div id="boolsche-props" class="slide section level1">
<h1>Bool’sche Props</h1>
<ul>
<li>Bool’sche Props sollten immer optional sein. Dann kann man sie auch
weglassen und false zu übergeben. (Genauer ist die Prop dann
<code>undefined</code> und nicht <code>false</code>, beides ist jedoch
<code>falsy</code>)</li>
</ul>
<div class="sourceCode" id="cb61"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb61-1"><a href="#cb61-1" tabindex="-1"></a><span class="kw">const</span> { show } <span class="op">=</span> defineProps<span class="op">&lt;</span>{</span>
<span id="cb61-2"><a href="#cb61-2" tabindex="-1"></a>  show<span class="op">?:</span> <span class="dt">boolean</span></span>
<span id="cb61-3"><a href="#cb61-3" tabindex="-1"></a>}<span class="op">&gt;</span>()</span></code></pre></div>
</div>
<div id="default-werte-für-props" class="slide section level1">
<h1>Default-Werte für Props</h1>
<ul>
<li>Default-Werte für Props können beim Destructuring definiert
werden.</li>
</ul>
<div class="sourceCode" id="cb62"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="kw">const</span> { title <span class="op">=</span> <span class="st">&#39;Default Title&#39;</span> } <span class="op">=</span> defineProps<span class="op">&lt;</span>{</span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a>  title<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb62-3"><a href="#cb62-3" tabindex="-1"></a>}<span class="op">&gt;</span>()</span></code></pre></div>
<ul>
<li>Das Fragezeichen ist eine Kurzschreibweise für
<code>title: string | undefined</code></li>
<li>Beide Schreibweisen sind gleichwertig.</li>
</ul>
</div>
<div id="standard-html-props" class="slide section level1">
<h1>Standard HTML-Props</h1>
<ul>
<li>Standard HTML-Props wie <code>id</code>, <code>class</code>,
<code>style</code> können auch als Props definiert werden.</li>
</ul>
<div class="sourceCode" id="cb63"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb63-1"><a href="#cb63-1" tabindex="-1"></a><span class="kw">const</span> { id<span class="op">,</span> class<span class="op">:</span> className<span class="op">,</span> style } <span class="op">=</span> defineProps<span class="op">&lt;</span>{</span>
<span id="cb63-2"><a href="#cb63-2" tabindex="-1"></a>  id<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb63-3"><a href="#cb63-3" tabindex="-1"></a>  class<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb63-4"><a href="#cb63-4" tabindex="-1"></a>  style<span class="op">?:</span> <span class="dt">string</span></span>
<span id="cb63-5"><a href="#cb63-5" tabindex="-1"></a>}<span class="op">&gt;</span>()</span></code></pre></div>
</div>
<div id="validierung-von-props" class="slide section level1">
<h1>Validierung von Props</h1>
<ul>
<li>Typed Props können mittels <code>defineProps</code> definiert
werden.</li>
<li>Eine Validierung zur Laufzeit ist in vielen Fällen sinnvoll.</li>
<li>Für die Validierung der Typinformationen zur Laufzeit sind
Bibliotheken wie <code>zod</code> oder <code>io-ts</code> geeignet.</li>
<li>Die Typisierung von Typescript ist zur Laufzeit nicht verfügbar und
somit nicht für die Validierung von unbekannten Daten geeignet.</li>
</ul>
<div class="sourceCode" id="cb64"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="kw">const</span> props <span class="op">=</span> defineProps<span class="op">&lt;</span>{</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a>  title<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb64-3"><a href="#cb64-3" tabindex="-1"></a>}<span class="op">&gt;</span>()</span>
<span id="cb64-4"><a href="#cb64-4" tabindex="-1"></a></span>
<span id="cb64-5"><a href="#cb64-5" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(props<span class="op">.</span><span class="at">title</span>)</span></code></pre></div>
<ul>
<li>Mit <code>defineProps</code> definierte Props sorgen dafür, dass im
Template des Aufrufers Typfehler angezeigt werden.</li>
<li>Voraussetzung ist, dass die Typinformationen korrekt sind und die
Entwicklungsumgebung die Typinformationen korrekt interpretiert.</li>
</ul>
</div>
<div id="weitergabe-an-parent-components-mit-events"
class="slide section level1">
<h1>Weitergabe an Parent-Components mit Events</h1>
<ul>
<li><p>Vue Components können Events deklarieren. Diese Events müssen
dann zu gegebener Zeit ausgelöst werden.</p></li>
<li><p>Zum Auslösen von Events gibt es die Funktion <code>emit()</code>.
Diese Funktion wird auf dem <code>context</code>-Objekt
aufgerufen.</p></li>
<li><p>Die Funktion <code>emit()</code> nimmt zwei Argumente
entgegen:</p>
<ul>
<li>Der Name des Events</li>
<li>Die Daten, die an die Parent-Komponente übergeben werden sollen</li>
</ul></li>
<li><p>Hier ein Beispiel für Script-Setup:</p></li>
</ul>
<div class="sourceCode" id="cb65"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="im">import</span> { defineProps<span class="op">,</span> defineEmits } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" tabindex="-1"></a><span class="kw">const</span> props <span class="op">=</span> defineProps<span class="op">&lt;</span>{</span>
<span id="cb65-4"><a href="#cb65-4" tabindex="-1"></a>  title<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb65-5"><a href="#cb65-5" tabindex="-1"></a>}<span class="op">&gt;</span>()</span>
<span id="cb65-6"><a href="#cb65-6" tabindex="-1"></a><span class="kw">const</span> emits <span class="op">=</span> defineEmits<span class="op">&lt;</span>{</span>
<span id="cb65-7"><a href="#cb65-7" tabindex="-1"></a>  updateTitle<span class="op">:</span> (title<span class="op">:</span> <span class="dt">string</span>) <span class="kw">=&gt;</span> <span class="dt">void</span></span>
<span id="cb65-8"><a href="#cb65-8" tabindex="-1"></a>}<span class="op">&gt;</span>()</span>
<span id="cb65-9"><a href="#cb65-9" tabindex="-1"></a></span>
<span id="cb65-10"><a href="#cb65-10" tabindex="-1"></a><span class="kw">function</span> <span class="fu">updateTitle</span>() {</span>
<span id="cb65-11"><a href="#cb65-11" tabindex="-1"></a>  emits<span class="op">.</span><span class="fu">updateTitle</span>(<span class="st">&#39;Neuer Titel&#39;</span>)</span>
<span id="cb65-12"><a href="#cb65-12" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="einfügen-von-inhalten-in-child-components-mit-slots"
class="slide section level1">
<h1>Einfügen von Inhalten in Child-Components mit Slots</h1>
<ul>
<li>Vue Components können sogenannte <code>slots</code> haben. Diese
<code>slots</code> sind Platzhalter für Inhalte, die von der
Parent-Komponente eingefügt werden können.</li>
<li>Slots können auch mit Default-Inhalten versehen werden.</li>
<li>Slots können auch benannt werden, das ist sinnvoll und notwendig,
wenn eine Komponente mehrere Slots hat.</li>
</ul>
</div>
<div id="single-slot-beispiel" class="slide section level1">
<h1>Single Slot Beispiel</h1>
<ul>
<li>Wrappercomponente die eine Border um den Inhalt zeichnet</li>
</ul>
<div class="sourceCode" id="cb66"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">style</span><span class="ot">=</span><span class="st">&quot;border: 1px solid black; margin: 4px;&quot;</span><span class="dt">&gt;</span></span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">slot</span><span class="dt">&gt;&lt;/</span><span class="kw">slot</span><span class="dt">&gt;</span></span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb66-5"><a href="#cb66-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="multiple-slots-beispiel" class="slide section level1">
<h1>Multiple-Slots Beispiel</h1>
<div class="sourceCode" id="cb67"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;&lt;</span><span class="kw">slot</span> <span class="er">#title</span><span class="dt">&gt;&lt;/</span><span class="kw">slot</span><span class="dt">&gt;&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;&lt;</span><span class="kw">slot</span> <span class="er">#content</span><span class="dt">&gt;&lt;/</span><span class="kw">slot</span><span class="dt">&gt;&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb67-5"><a href="#cb67-5" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb67-6"><a href="#cb67-6" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li>Verwendung</li>
</ul>
<div class="sourceCode" id="cb68"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb68-3"><a href="#cb68-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">MyComponent</span><span class="dt">&gt;</span></span>
<span id="cb68-4"><a href="#cb68-4" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">template</span> <span class="er">#title</span><span class="dt">&gt;</span></span>
<span id="cb68-5"><a href="#cb68-5" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">h1</span><span class="dt">&gt;</span>Titel<span class="dt">&lt;/</span><span class="kw">h1</span><span class="dt">&gt;</span></span>
<span id="cb68-6"><a href="#cb68-6" tabindex="-1"></a>      <span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb68-7"><a href="#cb68-7" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">template</span> <span class="er">#content</span><span class="dt">&gt;</span></span>
<span id="cb68-8"><a href="#cb68-8" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Content<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb68-9"><a href="#cb68-9" tabindex="-1"></a>      <span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb68-10"><a href="#cb68-10" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">MyComponent</span><span class="dt">&gt;</span></span>
<span id="cb68-11"><a href="#cb68-11" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div
id="daten-komponentenübergreifend-übergeben-und-entgegennehmen-mit-provide-inject"
class="slide section level1">
<h1>Daten Komponentenübergreifend übergeben und entgegennehmen mit
provide / inject</h1>
<ul>
<li>Provide/Inject ist sehr einfach verwendbar und ein Highligt von Vue
3.</li>
<li>Es ermöglicht das Übergeben von Daten an beliebige nested
Komponenten.</li>
<li>Beispiel eines <code>provide</code> in einer Parent-Komponente:</li>
</ul>
<div class="sourceCode" id="cb69"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a><span class="im">import</span> { provide } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" tabindex="-1"></a><span class="kw">const</span> globalState <span class="op">=</span> <span class="fu">ref</span>({</span>
<span id="cb69-4"><a href="#cb69-4" tabindex="-1"></a>  user<span class="op">:</span> <span class="st">&#39;Max&#39;</span><span class="op">,</span></span>
<span id="cb69-5"><a href="#cb69-5" tabindex="-1"></a>  age<span class="op">:</span> <span class="dv">30</span></span>
<span id="cb69-6"><a href="#cb69-6" tabindex="-1"></a>})</span>
<span id="cb69-7"><a href="#cb69-7" tabindex="-1"></a></span>
<span id="cb69-8"><a href="#cb69-8" tabindex="-1"></a><span class="fu">provide</span>(<span class="st">&#39;globalState&#39;</span><span class="op">,</span> globalState)</span></code></pre></div>
</div>
<div id="verwendung-in-einer-child-komponente"
class="slide section level1">
<h1>Verwendung in einer Child-Komponente</h1>
<ul>
<li>In einer Child-Komponente kann das <code>inject</code> verwendet
werden, um auf die Daten zuzugreifen.</li>
<li>Bei einer Ref im State kann man die Ref über .value verwenden oder
die Eigenschaften der in der Ref verschachtelten Objekte direkt
ansprechen und die Reaktivität bleibt erhalten.</li>
<li>Man kann auch den Proxy der in der Ref enthalten ist über
<code>toRefs</code> zu reaktiven Einzel-Refs umwandeln.</li>
</ul>
<div class="sourceCode" id="cb70"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span>{{ user }}, {{ age }}<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb70-5"><a href="#cb70-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb70-6"><a href="#cb70-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb70-7"><a href="#cb70-7" tabindex="-1"></a><span class="im">import</span> { inject<span class="op">,</span> toRefs } <span class="im">from</span> <span class="st">&#39;vue&#39;</span><span class="op">;</span></span>
<span id="cb70-8"><a href="#cb70-8" tabindex="-1"></a><span class="im">import</span> { type GlobalStateType } <span class="im">from</span> <span class="st">&#39;./App.vue&#39;</span></span>
<span id="cb70-9"><a href="#cb70-9" tabindex="-1"></a></span>
<span id="cb70-10"><a href="#cb70-10" tabindex="-1"></a><span class="kw">const</span> globalState <span class="op">=</span> <span class="fu">inject</span>(<span class="st">&#39;globalState&#39;</span>) <span class="im">as</span> GlobalStateType</span>
<span id="cb70-11"><a href="#cb70-11" tabindex="-1"></a><span class="kw">const</span> { user<span class="op">,</span> age } <span class="op">=</span> <span class="fu">toRefs</span>(globalState<span class="op">.</span><span class="at">value</span>)</span>
<span id="cb70-12"><a href="#cb70-12" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="verwendung-der-portals-komponente-teleport"
class="slide section level1">
<h1>Verwendung der Portals-Komponente / Teleport</h1>
<ul>
<li>Portals ermöglichen es, ein Element in einem anderen Teil des
DOM-Baums zu rendern.</li>
<li>Modal Dialog sind ein typisches Beispiel für die Verwendung von
Portals.</li>
<li>In Vue 3 wird die Komponente <code>&lt;teleport&gt;</code>
verwendet.</li>
<li><code>&lt;teleport&gt;</code> kann in einem Template verwendet
werden.</li>
<li><code>&lt;teleport&gt;</code> hat ein Attribut <code>to</code>, das
den Ziel-Selektor angibt.</li>
</ul>
<div class="sourceCode" id="cb71"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb71-1"><a href="#cb71-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb71-2"><a href="#cb71-2" tabindex="-1"></a>  <span class="dt">&lt;</span><span class="kw">teleport</span> <span class="er">to</span><span class="ot">=</span><span class="st">&quot;body&quot;</span><span class="dt">&gt;</span></span>
<span id="cb71-3"><a href="#cb71-3" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">class</span><span class="ot">=</span><span class="st">&quot;modal&quot;</span><span class="dt">&gt;</span></span>
<span id="cb71-4"><a href="#cb71-4" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">h2</span><span class="dt">&gt;</span>Modal Dialog<span class="dt">&lt;/</span><span class="kw">h2</span><span class="dt">&gt;</span></span>
<span id="cb71-5"><a href="#cb71-5" tabindex="-1"></a>      <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Modal Content<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb71-6"><a href="#cb71-6" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb71-7"><a href="#cb71-7" tabindex="-1"></a>  <span class="dt">&lt;/</span><span class="kw">teleport</span><span class="dt">&gt;</span></span>
<span id="cb71-8"><a href="#cb71-8" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li>Das obige Beispiel zeigt, wie ein Modal Dialog in den Body des
Dokuments teleportiert wird. Das Template kann jedoch in einer
sinnvoller SFC Datei definiert werden.</li>
</ul>
</div>
<div id="erstellen-von-custom-directives" class="slide section level1">
<h1>Erstellen von Custom Directives</h1>
<ul>
<li>Erzeugen einer Custom Directive</li>
<li>Datenübergabe an Directives</li>
<li>Verwenden der Directive-Lifecycle-Hooks</li>
<li>Globale Directives</li>
</ul>
</div>
<div id="erzeugen-einer-custom-directive" class="slide section level1">
<h1>Erzeugen einer Custom Directive</h1>
<ul>
<li>In Vue 3 können Custom Directives erzeugt werden.</li>
<li>Custom Directives sind eine Möglichkeit, um DOM-Elemente zu
manipulieren.</li>
<li>Custom Directives können auch als Attribute an Elemente gebunden
werden.</li>
<li>Custom Directives können auch als Komponenten verwendet werden.</li>
</ul>
</div>
<div id="erzeugen-einer-custom-directive-1"
class="slide section level1">
<h1>Erzeugen einer Custom Directive</h1>
<ul>
<li>Eine Custom Directive wird mit der Methode
<code>app.directive()</code> erzeugt.</li>
</ul>
<div class="sourceCode" id="cb72"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="co">// main.js</span></span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a><span class="im">import</span> { createApp } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a><span class="im">import</span> App <span class="im">from</span> <span class="st">&#39;./App.vue&#39;</span></span>
<span id="cb72-4"><a href="#cb72-4" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">createApp</span>(App)</span>
<span id="cb72-6"><a href="#cb72-6" tabindex="-1"></a></span>
<span id="cb72-7"><a href="#cb72-7" tabindex="-1"></a>app<span class="op">.</span><span class="fu">directive</span>(<span class="st">&#39;blue-thing&#39;</span><span class="op">,</span> {</span>
<span id="cb72-8"><a href="#cb72-8" tabindex="-1"></a>  <span class="fu">mounted</span>(el<span class="op">,</span> binding) {</span>
<span id="cb72-9"><a href="#cb72-9" tabindex="-1"></a>    el<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> <span class="st">&quot;blue&quot;</span></span>
<span id="cb72-10"><a href="#cb72-10" tabindex="-1"></a>  }</span>
<span id="cb72-11"><a href="#cb72-11" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="datenübergabe-an-directives" class="slide section level1">
<h1>Datenübergabe an Directives</h1>
<ul>
<li>Die Daten die an eine Custom Directive übergeben werden, werden als
Argumente an die Lifecycle-Hooks übergeben.</li>
<li>Die Argumente können in der <code>mounted</code>-Methode der Custom
Directive verwendet werden.</li>
<li>(Siehe Beispiel auf der nächsten Seite)</li>
</ul>
</div>
<div id="erzeugen-einer-custom-directive-mit-argumenten"
class="slide section level1">
<h1>Erzeugen einer Custom Directive mit Argumenten</h1>
<div class="sourceCode" id="cb73"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb73-1"><a href="#cb73-1" tabindex="-1"></a><span class="co">// main.js</span></span>
<span id="cb73-2"><a href="#cb73-2" tabindex="-1"></a><span class="im">import</span> { createApp } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb73-3"><a href="#cb73-3" tabindex="-1"></a><span class="im">import</span> App <span class="im">from</span> <span class="st">&#39;./App.vue&#39;</span></span>
<span id="cb73-4"><a href="#cb73-4" tabindex="-1"></a></span>
<span id="cb73-5"><a href="#cb73-5" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">createApp</span>(App)</span>
<span id="cb73-6"><a href="#cb73-6" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" tabindex="-1"></a>app<span class="op">.</span><span class="fu">directive</span>(<span class="st">&#39;color-thing&#39;</span><span class="op">,</span> {</span>
<span id="cb73-8"><a href="#cb73-8" tabindex="-1"></a>  <span class="fu">mounted</span>(el<span class="op">,</span> binding) {</span>
<span id="cb73-9"><a href="#cb73-9" tabindex="-1"></a>    el<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">color</span> <span class="op">=</span> binding<span class="op">.</span><span class="at">value</span></span>
<span id="cb73-10"><a href="#cb73-10" tabindex="-1"></a>  }</span>
<span id="cb73-11"><a href="#cb73-11" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="verwenden-der-directive-lifecycle-hooks"
class="slide section level1">
<h1>Verwenden der Directive-Lifecycle-Hooks</h1>
<ul>
<li>Die Lifecycle-Hooks einer Custom Directive sind:
<ul>
<li><code>beforeMount</code></li>
<li><code>mounted</code></li>
<li><code>beforeUpdate</code></li>
<li><code>updated</code></li>
<li><code>beforeUnmount</code></li>
<li><code>unmounted</code></li>
</ul></li>
<li>Der wichtigste Lifecycle-Hook ist <code>mounted</code>. Dort ist das
DOM-Element bereits im Dokument eingefügt und kann manipuliert
werden.</li>
<li>Bei beforeMount und mounted wird das Element als Argument übergeben.
Auch im updated-Hook wird das Element übergeben.</li>
</ul>
</div>
<div id="globale-und-lokale-directives" class="slide section level1">
<h1>Globale und lokale Directives</h1>
<ul>
<li>Die auf der App-Ebene registrierten Directives sind global
verfügbar.</li>
<li>Bei Script-Setup SFC (Single File Components) kann man sehr einfach
lokale Directives definieren in dem einfach eine Funktion mit dem
Buchstaben <code>v</code>beginnt.</li>
</ul>
<pre class="vue"><code>&lt;script setup&gt;
// enables v-focus in templates
const vFocus = {
  mounted: (el) =&gt; el.focus()
}
&lt;/script&gt;

&lt;template&gt;
  &lt;input v-focus /&gt;
&lt;/template&gt;</code></pre>
</div>
<div id="ajax-request" class="slide section level1">
<h1>AJAX Request</h1>
<ul>
<li>AJAX GET- und POST-Requests nativ mit der Fetch API</li>
<li>AJAX Requests mit der Bibliothek Axios</li>
</ul>
</div>
<div id="request-mit-der-fetch-api" class="slide section level1">
<h1>Request mit der Fetch API</h1>
<ul>
<li>Die Fetch-API ist in den Browsern integriert und kann für
AJAX-Requests verwendet werden.</li>
<li>Die Fetch-API ist moderner als die XMLHttpRequest-API (XHR).</li>
<li>Die Fetch-API ist asynchron und verwendet Promises.</li>
</ul>
</div>
<div id="recap-promises" class="slide section level1">
<h1>Recap Promises</h1>
<ul>
<li>Ein Promise ist ein Objekt, das eine asynchrone Operation
repräsentiert.</li>
<li>Ein Promise kann sich in einem von drei Zuständen befinden:
<ul>
<li><p>Pending: Initialer Zustand, Operation ist noch nicht
abgeschlossen.</p></li>
<li><p>Fulfilled: Operation wurde erfolgreich abgeschlossen.</p></li>
<li><p>Rejected: Operation wurde mit einem Fehler abgebrochen.</p></li>
<li><p>Ein Promise wird erzeugt mit <code>new Promise()</code> und
erhält eine Funktion mit zwei Parametern:</p>
<ul>
<li><code>resolve</code>: Funktion, die aufgerufen wird, wenn die
Operation erfolgreich abgeschlossen wurde.</li>
<li><code>reject</code>: Funktion, die aufgerufen wird, wenn die
Operation fehlschlägt.</li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="beispiel-für-eine-asynchrone-delay-funktion"
class="slide section level1">
<h1>Beispiel für eine asynchrone Delay-Funktion</h1>
<div class="sourceCode" id="cb75"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a><span class="im">export</span> <span class="kw">function</span> <span class="fu">delay</span>(ms<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span> {</span>
<span id="cb75-2"><a href="#cb75-2" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">void</span><span class="op">&gt;</span>((resolve) <span class="kw">=&gt;</span> {</span>
<span id="cb75-3"><a href="#cb75-3" tabindex="-1"></a>        <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb75-4"><a href="#cb75-4" tabindex="-1"></a>            <span class="fu">resolve</span>()</span>
<span id="cb75-5"><a href="#cb75-5" tabindex="-1"></a>        }<span class="op">,</span> ms)</span>
<span id="cb75-6"><a href="#cb75-6" tabindex="-1"></a>    })</span>
<span id="cb75-7"><a href="#cb75-7" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Aufruf</li>
</ul>
<div class="sourceCode" id="cb76"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="fu">delay</span>(<span class="dv">2000</span>)<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;2 Sekunden sind vergangen&#39;</span>)</span>
<span id="cb76-3"><a href="#cb76-3" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>Alternativ mittels <code>async</code> und <code>await</code>:</li>
</ul>
<div class="sourceCode" id="cb77"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">main</span>() {</span>
<span id="cb77-2"><a href="#cb77-2" tabindex="-1"></a>    <span class="cf">await</span> <span class="fu">delay</span>(<span class="dv">2000</span>)</span>
<span id="cb77-3"><a href="#cb77-3" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;2 Sekunden sind vergangen&#39;</span>)</span>
<span id="cb77-4"><a href="#cb77-4" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="fetch-api" class="slide section level1">
<h1>Fetch API</h1>
<ul>
<li>Fetch arbeitet in 2 Schritten. Es wird zunächst der Header
zurückgegeben und dann der Body.</li>
</ul>
<div class="sourceCode" id="cb78"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a><span class="fu">fetch</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span>)</span>
<span id="cb78-2"><a href="#cb78-2" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> {</span>
<span id="cb78-3"><a href="#cb78-3" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(response)</span>
<span id="cb78-4"><a href="#cb78-4" tabindex="-1"></a>        <span class="cf">return</span> response<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb78-5"><a href="#cb78-5" tabindex="-1"></a>    })</span>
<span id="cb78-6"><a href="#cb78-6" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> {</span>
<span id="cb78-7"><a href="#cb78-7" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)</span>
<span id="cb78-8"><a href="#cb78-8" tabindex="-1"></a>    })</span></code></pre></div>
<ul>
<li>Mit Async/Await:</li>
</ul>
<div class="sourceCode" id="cb79"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchPost</span>() {</span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span>)</span>
<span id="cb79-3"><a href="#cb79-3" tabindex="-1"></a>    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> response<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb79-4"><a href="#cb79-4" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)</span>
<span id="cb79-5"><a href="#cb79-5" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="query-parameter-verwenden" class="slide section level1">
<h1>Query Parameter verwenden</h1>
<ul>
<li>Query Parameter können an die URL angehängt werden.</li>
<li>Wichtig ist die Verwendung von <code>encodeURIComponent()</code> um
Sonderzeichen zu maskieren.</li>
</ul>
<div class="sourceCode" id="cb80"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb80-1"><a href="#cb80-1" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchPost</span>(limit<span class="op">:</span> <span class="dt">number</span>) {</span>
<span id="cb80-2"><a href="#cb80-2" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="vs">`https://dummyjson.com/quotes?limit=</span><span class="sc">${</span><span class="pp">encodeURIComponent</span>(limit)<span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb80-3"><a href="#cb80-3" tabindex="-1"></a>    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> response<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb80-4"><a href="#cb80-4" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)</span>
<span id="cb80-5"><a href="#cb80-5" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Man kann auch ein Objekt mit Query-Parametern übergeben und mittels
<code>URLSearchParams</code> in einen String umwandeln.</li>
</ul>
<div class="sourceCode" id="cb81"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchPost</span>(params<span class="op">:</span> { limit<span class="op">:</span> <span class="dt">number</span> }) {</span>
<span id="cb81-2"><a href="#cb81-2" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="vs">`https://dummyjson.com/quotes?</span><span class="sc">${</span><span class="kw">new</span> <span class="fu">URLSearchParams</span>(params)<span class="op">.</span><span class="fu">toString</span>()<span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb81-3"><a href="#cb81-3" tabindex="-1"></a>    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> response<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb81-4"><a href="#cb81-4" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)</span>
<span id="cb81-5"><a href="#cb81-5" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="header" class="slide section level1">
<h1>Header</h1>
<ul>
<li>Header können bei <code>fetch</code> mit den Optons gesetzt
werden.</li>
</ul>
<div class="sourceCode" id="cb82"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb82-1"><a href="#cb82-1" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchPost</span>() {</span>
<span id="cb82-2"><a href="#cb82-2" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span><span class="op">,</span> {</span>
<span id="cb82-3"><a href="#cb82-3" tabindex="-1"></a>        headers<span class="op">:</span> {</span>
<span id="cb82-4"><a href="#cb82-4" tabindex="-1"></a>            <span class="st">&#39;Content-Type&#39;</span><span class="op">:</span> <span class="st">&#39;application/json&#39;</span></span>
<span id="cb82-5"><a href="#cb82-5" tabindex="-1"></a>        }</span>
<span id="cb82-6"><a href="#cb82-6" tabindex="-1"></a>    })</span>
<span id="cb82-7"><a href="#cb82-7" tabindex="-1"></a>    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> response<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb82-8"><a href="#cb82-8" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)</span>
<span id="cb82-9"><a href="#cb82-9" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="methode-und-body" class="slide section level1">
<h1>Methode und Body</h1>
<ul>
<li>Die Methode und der Body können ebenfalls gesetzt werden.</li>
</ul>
<div class="sourceCode" id="cb83"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb83-1"><a href="#cb83-1" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchPost</span>() {</span>
<span id="cb83-2"><a href="#cb83-2" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span><span class="op">,</span> {</span>
<span id="cb83-3"><a href="#cb83-3" tabindex="-1"></a>        method<span class="op">:</span> <span class="st">&#39;POST&#39;</span><span class="op">,</span></span>
<span id="cb83-4"><a href="#cb83-4" tabindex="-1"></a>        body<span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>({</span>
<span id="cb83-5"><a href="#cb83-5" tabindex="-1"></a>            title<span class="op">:</span> <span class="st">&#39;foo&#39;</span><span class="op">,</span></span>
<span id="cb83-6"><a href="#cb83-6" tabindex="-1"></a>            body<span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span></span>
<span id="cb83-7"><a href="#cb83-7" tabindex="-1"></a>            userId<span class="op">:</span> <span class="dv">1</span></span>
<span id="cb83-8"><a href="#cb83-8" tabindex="-1"></a>        })<span class="op">,</span></span>
<span id="cb83-9"><a href="#cb83-9" tabindex="-1"></a>        headers<span class="op">:</span> {</span>
<span id="cb83-10"><a href="#cb83-10" tabindex="-1"></a>            <span class="st">&#39;Content-Type&#39;</span><span class="op">:</span> <span class="st">&#39;application/json&#39;</span></span>
<span id="cb83-11"><a href="#cb83-11" tabindex="-1"></a>        }</span>
<span id="cb83-12"><a href="#cb83-12" tabindex="-1"></a>    })</span>
<span id="cb83-13"><a href="#cb83-13" tabindex="-1"></a>    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> response<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb83-14"><a href="#cb83-14" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(data)</span>
<span id="cb83-15"><a href="#cb83-15" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Achtung: Die Methode <code>JSON.stringify()</code> funktioniert nur
für einfache Objekte. Bei komplexen Objekten muss <code>FormData</code>
verwendet werden. Problematisch sind zum Beispiel Date-Objekte.</li>
<li><code>FormData</code> kann für Datei-Uploads verwendet werden.</li>
</ul>
</div>
<div id="upload-und-download-progress" class="slide section level1">
<h1>Upload und Download Progress</h1>
<ul>
<li>Der Upload- und Download-Fortschritt kann über die
<code>fetch</code>-API nur mühselig überwacht werden.</li>
</ul>
<div class="sourceCode" id="cb84"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb84-1"><a href="#cb84-1" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchPost</span>() {</span>
<span id="cb84-2"><a href="#cb84-2" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span><span class="op">,</span> {</span>
<span id="cb84-3"><a href="#cb84-3" tabindex="-1"></a>        method<span class="op">:</span> <span class="st">&#39;POST&#39;</span><span class="op">,</span></span>
<span id="cb84-4"><a href="#cb84-4" tabindex="-1"></a>        body<span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>({</span>
<span id="cb84-5"><a href="#cb84-5" tabindex="-1"></a>            title<span class="op">:</span> <span class="st">&#39;foo&#39;</span><span class="op">,</span></span>
<span id="cb84-6"><a href="#cb84-6" tabindex="-1"></a>            body<span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span></span>
<span id="cb84-7"><a href="#cb84-7" tabindex="-1"></a>            userId<span class="op">:</span> <span class="dv">1</span></span>
<span id="cb84-8"><a href="#cb84-8" tabindex="-1"></a>        })<span class="op">,</span></span>
<span id="cb84-9"><a href="#cb84-9" tabindex="-1"></a>        headers<span class="op">:</span> {</span>
<span id="cb84-10"><a href="#cb84-10" tabindex="-1"></a>            <span class="st">&#39;Content-Type&#39;</span><span class="op">:</span> <span class="st">&#39;application/json&#39;</span></span>
<span id="cb84-11"><a href="#cb84-11" tabindex="-1"></a>        }</span>
<span id="cb84-12"><a href="#cb84-12" tabindex="-1"></a>    })</span>
<span id="cb84-13"><a href="#cb84-13" tabindex="-1"></a>    <span class="kw">const</span> reader <span class="op">=</span> response<span class="op">.</span><span class="at">body</span><span class="op">?.</span><span class="fu">getReader</span>()</span>
<span id="cb84-14"><a href="#cb84-14" tabindex="-1"></a>    <span class="kw">const</span> contentLength <span class="op">=</span> <span class="op">+</span>response<span class="op">.</span><span class="at">headers</span><span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;Content-Length&#39;</span>)</span>
<span id="cb84-15"><a href="#cb84-15" tabindex="-1"></a>    <span class="kw">let</span> receivedLength <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb84-16"><a href="#cb84-16" tabindex="-1"></a>    <span class="kw">let</span> chunks <span class="op">=</span> []</span>
<span id="cb84-17"><a href="#cb84-17" tabindex="-1"></a>    <span class="cf">while</span> (<span class="kw">true</span>) {</span>
<span id="cb84-18"><a href="#cb84-18" tabindex="-1"></a>        <span class="kw">const</span> { done<span class="op">,</span> value } <span class="op">=</span> <span class="cf">await</span> reader<span class="op">.</span><span class="fu">read</span>()</span>
<span id="cb84-19"><a href="#cb84-19" tabindex="-1"></a>        <span class="cf">if</span> (done) {</span>
<span id="cb84-20"><a href="#cb84-20" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb84-21"><a href="#cb84-21" tabindex="-1"></a>        }</span>
<span id="cb84-22"><a href="#cb84-22" tabindex="-1"></a>        chunks<span class="op">.</span><span class="fu">push</span>(value)</span>
<span id="cb84-23"><a href="#cb84-23" tabindex="-1"></a>        receivedLength <span class="op">+=</span> value<span class="op">.</span><span class="at">length</span></span>
<span id="cb84-24"><a href="#cb84-24" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Received </span><span class="sc">${</span>receivedLength<span class="sc">}</span><span class="vs"> of </span><span class="sc">${</span>contentLength<span class="sc">}</span><span class="vs">`</span>)</span>
<span id="cb84-25"><a href="#cb84-25" tabindex="-1"></a>    }</span>
<span id="cb84-26"><a href="#cb84-26" tabindex="-1"></a></span>
<span id="cb84-27"><a href="#cb84-27" tabindex="-1"></a>    <span class="kw">const</span> chunksAll <span class="op">=</span> <span class="kw">new</span> <span class="bu">Uint8Array</span>(receivedLength)</span>
<span id="cb84-28"><a href="#cb84-28" tabindex="-1"></a>    <span class="kw">let</span> position <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb84-29"><a href="#cb84-29" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">const</span> chunk <span class="kw">of</span> chunks) {</span>
<span id="cb84-30"><a href="#cb84-30" tabindex="-1"></a>        chunksAll<span class="op">.</span><span class="fu">set</span>(chunk<span class="op">,</span> position)</span>
<span id="cb84-31"><a href="#cb84-31" tabindex="-1"></a>        position <span class="op">+=</span> chunk<span class="op">.</span><span class="at">length</span></span>
<span id="cb84-32"><a href="#cb84-32" tabindex="-1"></a>    }</span>
<span id="cb84-33"><a href="#cb84-33" tabindex="-1"></a>    <span class="kw">const</span> result <span class="op">=</span> <span class="kw">new</span> <span class="fu">TextDecoder</span>(<span class="st">&#39;utf-8&#39;</span>)<span class="op">.</span><span class="fu">decode</span>(chunksAll)</span>
<span id="cb84-34"><a href="#cb84-34" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(result)</span>
<span id="cb84-35"><a href="#cb84-35" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="axios" class="slide section level1">
<h1>Axios</h1>
<ul>
<li>Axios ist eine Bibliothek für AJAX-Requests.</li>
<li>Axios ist einfach zu verwenden und bietet viele Features.</li>
<li>Axios ist auch eine Promise-basierte Bibliothek.</li>
<li>Axios erlaubt es global Request-Interceptors zu setzen und somit
bestimmte Header oder Authentifizierungen global zu setzen.</li>
<li>Außerdem kann man global die Fehlerbehandlung implementieren.</li>
<li>Axios erlaubt es sehr komfortabel den Progress von Uploads und
Downloads zu überwachen.</li>
</ul>
</div>
<div id="installation" class="slide section level1">
<h1>Installation</h1>
<ul>
<li>Axios kann über NPM installiert werden.</li>
</ul>
<div class="sourceCode" id="cb85"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb85-1"><a href="#cb85-1" tabindex="-1"></a><span class="ex">npm</span> install axios</span></code></pre></div>
<ul>
<li>Die Typen für TypeScript sind bereits in Axios integriert.</li>
</ul>
</div>
<div id="verwendung" class="slide section level1">
<h1>Verwendung</h1>
<ul>
<li>Ein einfacher GET-Request:</li>
</ul>
<div class="sourceCode" id="cb86"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb86-1"><a href="#cb86-1" tabindex="-1"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span></span>
<span id="cb86-2"><a href="#cb86-2" tabindex="-1"></a></span>
<span id="cb86-3"><a href="#cb86-3" tabindex="-1"></a>axios<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span>)</span>
<span id="cb86-4"><a href="#cb86-4" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> {</span>
<span id="cb86-5"><a href="#cb86-5" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(response<span class="op">.</span><span class="at">data</span>)</span>
<span id="cb86-6"><a href="#cb86-6" tabindex="-1"></a>    })</span></code></pre></div>
<ul>
<li>Mit Async/Await:</li>
</ul>
<div class="sourceCode" id="cb87"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb87-1"><a href="#cb87-1" tabindex="-1"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span></span>
<span id="cb87-2"><a href="#cb87-2" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">fetchPost</span>() {</span>
<span id="cb87-4"><a href="#cb87-4" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span>)</span>
<span id="cb87-5"><a href="#cb87-5" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(response<span class="op">.</span><span class="at">data</span>)</span>
<span id="cb87-6"><a href="#cb87-6" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="überwachung-von-uploads-und-downloads"
class="slide section level1">
<h1>Überwachung von Uploads und Downloads</h1>
<ul>
<li>Axios erlaubt es sehr einfach den Fortschritt von Uploads und
Downloads zu überwachen.</li>
</ul>
<div class="sourceCode" id="cb88"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb88-1"><a href="#cb88-1" tabindex="-1"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span></span>
<span id="cb88-2"><a href="#cb88-2" tabindex="-1"></a></span>
<span id="cb88-3"><a href="#cb88-3" tabindex="-1"></a>axios<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span><span class="op">,</span> {</span>
<span id="cb88-4"><a href="#cb88-4" tabindex="-1"></a>    onDownloadProgress<span class="op">:</span> (progressEvent) <span class="kw">=&gt;</span> {</span>
<span id="cb88-5"><a href="#cb88-5" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(progressEvent<span class="op">.</span><span class="at">loaded</span>)</span>
<span id="cb88-6"><a href="#cb88-6" tabindex="-1"></a>    }</span>
<span id="cb88-7"><a href="#cb88-7" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>Uploads können ebenfalls überwacht werden.</li>
</ul>
<div class="sourceCode" id="cb89"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb89-1"><a href="#cb89-1" tabindex="-1"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span></span>
<span id="cb89-2"><a href="#cb89-2" tabindex="-1"></a></span>
<span id="cb89-3"><a href="#cb89-3" tabindex="-1"></a>axios<span class="op">.</span><span class="fu">post</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span><span class="op">,</span> {</span>
<span id="cb89-4"><a href="#cb89-4" tabindex="-1"></a>    title<span class="op">:</span> <span class="st">&#39;foo&#39;</span><span class="op">,</span></span>
<span id="cb89-5"><a href="#cb89-5" tabindex="-1"></a>    body<span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span></span>
<span id="cb89-6"><a href="#cb89-6" tabindex="-1"></a>    userId<span class="op">:</span> <span class="dv">1</span></span>
<span id="cb89-7"><a href="#cb89-7" tabindex="-1"></a>}<span class="op">,</span> {</span>
<span id="cb89-8"><a href="#cb89-8" tabindex="-1"></a>    onUploadProgress<span class="op">:</span> (progressEvent) <span class="kw">=&gt;</span> {</span>
<span id="cb89-9"><a href="#cb89-9" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(progressEvent<span class="op">.</span><span class="at">loaded</span>)</span>
<span id="cb89-10"><a href="#cb89-10" tabindex="-1"></a>    }</span>
<span id="cb89-11"><a href="#cb89-11" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="post-requests" class="slide section level1">
<h1>Post Requests</h1>
<ul>
<li>Post-Requests können ebenfalls einfach durchgeführt werden.</li>
</ul>
<div class="sourceCode" id="cb90"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb90-1"><a href="#cb90-1" tabindex="-1"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span></span>
<span id="cb90-2"><a href="#cb90-2" tabindex="-1"></a></span>
<span id="cb90-3"><a href="#cb90-3" tabindex="-1"></a><span class="kw">function</span> <span class="kw">async</span> <span class="fu">doPost</span>() {</span>
<span id="cb90-4"><a href="#cb90-4" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> axios<span class="op">.</span><span class="fu">post</span>(<span class="st">&#39;https://dummyjson.com/quotes/581&#39;</span><span class="op">,</span> {</span>
<span id="cb90-5"><a href="#cb90-5" tabindex="-1"></a>        title<span class="op">:</span> <span class="st">&#39;foo&#39;</span><span class="op">,</span></span>
<span id="cb90-6"><a href="#cb90-6" tabindex="-1"></a>        body<span class="op">:</span> <span class="st">&#39;bar&#39;</span><span class="op">,</span></span>
<span id="cb90-7"><a href="#cb90-7" tabindex="-1"></a>        userId<span class="op">:</span> <span class="dv">1</span></span>
<span id="cb90-8"><a href="#cb90-8" tabindex="-1"></a>    })</span>
<span id="cb90-9"><a href="#cb90-9" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="verwendung-in-vue.js" class="slide section level1">
<h1>Verwendung in Vue.js</h1>
<ul>
<li><p>In Vue.js können Daten sehr gut über die
<code>setup</code>-Funktion und <code>reactive</code>-Objekte verwaltet
werden.</p></li>
<li><p>Die Setup-Funktion erlaubt es mit async/await zu arbeiten.
Allerdings wird dann das Rendering der Komponente blockiert.</p></li>
<li><p>Idealerweise rendert man bereits ein Template mit Platzhaltern
und zeigt einen Lade-Indikator an. Außerdem müssen Fehler abgefangen und
angezeigt werden.</p></li>
<li><p>Die einfachste Möglichkeit ist es Daten im
<code>onMounted</code>-Hook zu laden und den Lade-Indikator zu
setzen.</p></li>
</ul>
</div>
<div id="beispiel" class="slide section level1">
<h1>Beispiel</h1>
<div class="sourceCode" id="cb91"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb91-1"><a href="#cb91-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb91-2"><a href="#cb91-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">v-if</span><span class="ot">=</span><span class="st">&quot;quote&quot;</span><span class="dt">&gt;</span></span>
<span id="cb91-3"><a href="#cb91-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>{{ quote.quote }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb91-4"><a href="#cb91-4" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span> <span class="er">className</span><span class="ot">=</span><span class="st">&quot;text-sm&quot;</span><span class="dt">&gt;</span>{{ quote.author }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb91-5"><a href="#cb91-5" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb91-6"><a href="#cb91-6" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span> <span class="er">v-else-if</span><span class="ot">=</span><span class="st">&quot;loading&quot;</span><span class="dt">&gt;</span>Loading...<span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb91-7"><a href="#cb91-7" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb91-8"><a href="#cb91-8" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb91-9"><a href="#cb91-9" tabindex="-1"></a><span class="im">import</span> { ref<span class="op">,</span> onMounted } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb91-10"><a href="#cb91-10" tabindex="-1"></a>type Quote <span class="op">=</span> { <span class="dt">quote</span><span class="op">:</span> string<span class="op">;</span> <span class="dt">author</span><span class="op">:</span> string }</span>
<span id="cb91-11"><a href="#cb91-11" tabindex="-1"></a></span>
<span id="cb91-12"><a href="#cb91-12" tabindex="-1"></a><span class="kw">const</span> quote <span class="op">=</span> ref<span class="op">&lt;</span>Quote<span class="op">&gt;</span>()</span>
<span id="cb91-13"><a href="#cb91-13" tabindex="-1"></a><span class="kw">const</span> loading <span class="op">=</span> <span class="fu">ref</span>(<span class="kw">false</span>)</span>
<span id="cb91-14"><a href="#cb91-14" tabindex="-1"></a><span class="fu">onMounted</span>(<span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb91-15"><a href="#cb91-15" tabindex="-1"></a>    loading<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="kw">true</span></span>
<span id="cb91-16"><a href="#cb91-16" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb91-17"><a href="#cb91-17" tabindex="-1"></a>        <span class="kw">const</span> r <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">&#39;https://dummyjson.com/quote/392&#39;</span>)</span>
<span id="cb91-18"><a href="#cb91-18" tabindex="-1"></a>        quote<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="cf">await</span> r<span class="op">.</span><span class="fu">json</span>() <span class="im">as</span> Quote</span>
<span id="cb91-19"><a href="#cb91-19" tabindex="-1"></a>    } <span class="cf">finally</span> {</span>
<span id="cb91-20"><a href="#cb91-20" tabindex="-1"></a>        loading<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="kw">false</span></span>
<span id="cb91-21"><a href="#cb91-21" tabindex="-1"></a>    }</span>
<span id="cb91-22"><a href="#cb91-22" tabindex="-1"></a>})</span>
<span id="cb91-23"><a href="#cb91-23" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li>Siehe auch <a
href="https://github.com/srutz/vueempty/tree/simpleloadingindicator">Github
Link</a></li>
</ul>
</div>
<div id="seitennavigation-mit-routing" class="slide section level1">
<h1>Seitennavigation mit Routing</h1>
<ul>
<li>Hinzufügen von Routing in eine Vue-App</li>
<li>Verlinkung von Routen</li>
<li>Styling von Links mit der ActiveRoute</li>
<li>Navigating per JavaScript-Code</li>
<li>Arbeiten mit Routen-Parameter</li>
<li>Weitergabe von Params als Props</li>
<li>Verwendung von geschachtelten Routen</li>
<li>Verwendung benannter Views</li>
<li>Schutz von Seiten mit den Navigation-Guards</li>
</ul>
</div>
<div id="hinzufügen-von-routing-in-eine-vue-app"
class="slide section level1">
<h1>Hinzufügen von Routing in eine Vue-App</h1>
<ul>
<li>Der vue-router wird wie folgt installiert:</li>
</ul>
<div class="sourceCode" id="cb92"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb92-1"><a href="#cb92-1" tabindex="-1"></a><span class="ex">npm</span> install vue-router</span></code></pre></div>
</div>
<div id="konfiguration-der-routes" class="slide section level1">
<h1>Konfiguration der Routes</h1>
<ul>
<li>Die Konfiguration der Routen erfolgt in einem eigenen File, z.B.
<code>router.ts</code> oder auch direkt in der <code>main.ts</code>
Datei.</li>
</ul>
<div class="sourceCode" id="cb93"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb93-1"><a href="#cb93-1" tabindex="-1"></a><span class="im">import</span> { createRouter<span class="op">,</span> createWebHistory } <span class="im">from</span> <span class="st">&#39;vue-router&#39;</span></span>
<span id="cb93-2"><a href="#cb93-2" tabindex="-1"></a><span class="im">import</span> Home <span class="im">from</span> <span class="st">&#39;./views/Home.vue&#39;</span></span>
<span id="cb93-3"><a href="#cb93-3" tabindex="-1"></a><span class="im">import</span> Content <span class="im">from</span> <span class="st">&#39;./views/Content.vue&#39;</span></span>
<span id="cb93-4"><a href="#cb93-4" tabindex="-1"></a><span class="im">import</span> About <span class="im">from</span> <span class="st">&#39;./views/About.vue&#39;</span></span>
<span id="cb93-5"><a href="#cb93-5" tabindex="-1"></a></span>
<span id="cb93-6"><a href="#cb93-6" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> <span class="fu">createRouter</span>({</span>
<span id="cb93-7"><a href="#cb93-7" tabindex="-1"></a>    history<span class="op">:</span> <span class="fu">createWebHistory</span>()<span class="op">,</span></span>
<span id="cb93-8"><a href="#cb93-8" tabindex="-1"></a>    routes<span class="op">:</span> [</span>
<span id="cb93-9"><a href="#cb93-9" tabindex="-1"></a>        { path<span class="op">:</span> <span class="st">&quot;/&quot;</span><span class="op">,</span> component<span class="op">:</span> MainPage<span class="op">,</span> meta<span class="op">:</span> { title<span class="op">:</span> <span class="st">&quot;Home&quot;</span> } }<span class="op">,</span></span>
<span id="cb93-10"><a href="#cb93-10" tabindex="-1"></a>        { path<span class="op">:</span> <span class="st">&quot;/content&quot;</span><span class="op">,</span> component<span class="op">:</span> ContentPage<span class="op">,</span> meta<span class="op">:</span> { title<span class="op">:</span> <span class="st">&quot;Content&quot;</span> }  }<span class="op">,</span></span>
<span id="cb93-11"><a href="#cb93-11" tabindex="-1"></a>        { path<span class="op">:</span> <span class="st">&quot;/about&quot;</span><span class="op">,</span> component<span class="op">:</span> AboutPage<span class="op">,</span> meta<span class="op">:</span> { title<span class="op">:</span> <span class="st">&quot;About&quot;</span> }  }<span class="op">,</span></span>
<span id="cb93-12"><a href="#cb93-12" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb93-13"><a href="#cb93-13" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="history-modes" class="slide section level1">
<h1>History Modes</h1>
<ul>
<li><p>Die History Modes können als Option beim Erstellen des Routers
angegeben werden.</p></li>
<li><p>Die beiden wichtigsten sind <code>createWebHistory</code> und
<code>createWebHashHistory</code>.</p></li>
<li><p>Wenn möglich sollte <code>createWebHistory</code> verwendet
werden.</p></li>
<li><p>Wenn man keine Kontrolle über den Webserver hat (z.B. bei GitHub
Pages), kann man <code>createWebHashHistory</code> verwenden und bekommt
ein komplett lokales Routing.</p></li>
</ul>
</div>
<div id="navigation" class="slide section level1">
<h1>Navigation</h1>
</div>
<div id="verlinkung-von-routen" class="slide section level1">
<h1>Verlinkung von Routen</h1>
<ul>
<li>Die Verlinkung von Routen erfolgt mit dem <code>router-link</code>
Element.</li>
</ul>
<div class="sourceCode" id="cb94"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb94-1"><a href="#cb94-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">router-link</span> <span class="er">to</span><span class="ot">=</span><span class="st">&quot;/&quot;</span><span class="dt">&gt;</span>Home<span class="dt">&lt;/</span><span class="kw">router-link</span><span class="dt">&gt;</span></span>
<span id="cb94-2"><a href="#cb94-2" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">router-link</span> <span class="er">to</span><span class="ot">=</span><span class="st">&quot;/about&quot;</span><span class="dt">&gt;</span>About<span class="dt">&lt;/</span><span class="kw">router-link</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li><p>Router-link wird also anstelle von <code>a</code>-Tags verwendet.
(Anchor tags mit href Attribut)</p></li>
<li><p>Router-link wird zu <code>a</code>-Tags gerendert.</p></li>
<li><p>Der Grund ist das Vue-Router die Navigation über JavaScript
steuert und nicht über das klassische Navigationsverhalten von
<code>a</code>-Tags. Letztere führen eine sogenannte Full Page Reload
durch, was bei Single Page Applications nicht gewünscht ist.</p></li>
</ul>
</div>
<div id="styling-von-router-links-mit-der-activeroute"
class="slide section level1">
<h1>Styling von Router-Links mit der ActiveRoute</h1>
<ul>
<li>Die Klasse <code>router-link-active</code> wird automatisch
hinzugefügt, wenn die Route aktiv ist.</li>
<li>Diese Klasse kann dann im CSS gestyled werden.</li>
</ul>
<div class="sourceCode" id="cb95"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb95-1"><a href="#cb95-1" tabindex="-1"></a><span class="fu">.router-link-active</span> {</span>
<span id="cb95-2"><a href="#cb95-2" tabindex="-1"></a>    <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></span>
<span id="cb95-3"><a href="#cb95-3" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Oder mittels Tailwind und <span class="citation">@apply</span>:</li>
</ul>
<div class="sourceCode" id="cb96"><pre
class="sourceCode css"><code class="sourceCode css"><span id="cb96-1"><a href="#cb96-1" tabindex="-1"></a><span class="fu">.router-link-active</span> {</span>
<span id="cb96-2"><a href="#cb96-2" tabindex="-1"></a>    <span class="im">@apply</span> font-bold<span class="op">;</span></span>
<span id="cb96-3"><a href="#cb96-3" tabindex="-1"></a>}</span></code></pre></div>
<ul>
<li>Die Klasse <code>router-link-exact-active</code> wird hinzugefügt,
wenn die Route exakt übereinstimmt.</li>
</ul>
</div>
<div id="programmatische-abfrage-der-aktuellen-route"
class="slide section level1">
<h1>Programmatische Abfrage der aktuellen Route</h1>
<ul>
<li>Die aktuelle Route kann über das <code>$route</code>-Objekt oder
über das <code>useRoute</code>-Composable abgefragt werden.</li>
</ul>
<div class="sourceCode" id="cb97"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb97-1"><a href="#cb97-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb97-2"><a href="#cb97-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb97-3"><a href="#cb97-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Aktuelle Route: {{ $route.path }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb97-4"><a href="#cb97-4" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb97-5"><a href="#cb97-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span></code></pre></div>
<ul>
<li>Oder mit dem <code>useRoute</code>-Composable im Script-Teil:</li>
</ul>
<div class="sourceCode" id="cb98"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb98-1"><a href="#cb98-1" tabindex="-1"></a><span class="kw">const</span> route <span class="op">=</span> <span class="fu">useRoute</span>()</span>
<span id="cb98-2"><a href="#cb98-2" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(route<span class="op">.</span><span class="at">path</span>)</span></code></pre></div>
</div>
<div id="navigating-per-javascript-code" class="slide section level1">
<h1>Navigating per JavaScript-Code</h1>
<ul>
<li>Um programmatisch zu einer anderen Route zu navigieren, kann im
Template <code>this.$router.push()</code> verwendet werden oder mittels
des Composables <code>useRouter</code>.</li>
</ul>
<div class="sourceCode" id="cb99"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb99-1"><a href="#cb99-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb99-2"><a href="#cb99-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb99-3"><a href="#cb99-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">button</span> <span class="er">@click</span><span class="ot">=</span><span class="st">&quot;navigateToHome&quot;</span><span class="dt">&gt;</span>Go to Home<span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb99-4"><a href="#cb99-4" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb99-5"><a href="#cb99-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb99-6"><a href="#cb99-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb99-7"><a href="#cb99-7" tabindex="-1"></a><span class="im">import</span> { useRouter } <span class="im">from</span> <span class="st">&#39;vue-router&#39;</span></span>
<span id="cb99-8"><a href="#cb99-8" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> <span class="fu">useRouter</span>()</span>
<span id="cb99-9"><a href="#cb99-9" tabindex="-1"></a><span class="kw">const</span> navigateToHome <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb99-10"><a href="#cb99-10" tabindex="-1"></a>    router<span class="op">.</span><span class="fu">push</span>({ <span class="dt">path</span><span class="op">:</span> <span class="st">&#39;/&#39;</span> })</span>
<span id="cb99-11"><a href="#cb99-11" tabindex="-1"></a>}</span>
<span id="cb99-12"><a href="#cb99-12" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="arbeiten-mit-routen-parameter-definition"
class="slide section level1">
<h1>Arbeiten mit Routen-Parameter (Definition)</h1>
<ul>
<li>Routen-Parameter werden in der URL als Platzhalter für dynamische
Werte verwendet.</li>
<li>Routen-Parameter werden in der Route-Definition mit einem
Doppelpunkt <code>:</code> definiert.</li>
<li>Routen-Parameter können in der Komponente über
<code>this.$route.params</code> abgerufen werden.</li>
</ul>
<div class="sourceCode" id="cb100"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb100-1"><a href="#cb100-1" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> <span class="fu">createRouter</span>({</span>
<span id="cb100-2"><a href="#cb100-2" tabindex="-1"></a>    history<span class="op">:</span> <span class="fu">createWebHistory</span>()<span class="op">,</span></span>
<span id="cb100-3"><a href="#cb100-3" tabindex="-1"></a>    routes<span class="op">:</span> [</span>
<span id="cb100-4"><a href="#cb100-4" tabindex="-1"></a>        { path<span class="op">:</span> <span class="st">&quot;/users/:id/details&quot;</span><span class="op">,</span> component<span class="op">:</span> UserDetails }<span class="op">,</span></span>
<span id="cb100-5"><a href="#cb100-5" tabindex="-1"></a>    ]</span>
<span id="cb100-6"><a href="#cb100-6" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>Dieser Parameter ist ein Path-Parameter.</li>
<li>Die andere Möglichkeit sind Query-Parameter, die mit einem
Fragezeichen <code>?</code> beginnen. Diese müssen nicht in der
Route-Definition definiert werden.</li>
</ul>
</div>
<div id="arbeiten-mit-routen-parameter-verwendung"
class="slide section level1">
<h1>Arbeiten mit Routen-Parameter (Verwendung)</h1>
<div class="sourceCode" id="cb101"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb101-1"><a href="#cb101-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb101-2"><a href="#cb101-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb101-3"><a href="#cb101-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>User ID: {{ $route.params.id }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb101-4"><a href="#cb101-4" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb101-5"><a href="#cb101-5" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb101-6"><a href="#cb101-6" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb101-7"><a href="#cb101-7" tabindex="-1"></a></span>
<span id="cb101-8"><a href="#cb101-8" tabindex="-1"></a><span class="kw">const</span> route <span class="op">=</span> <span class="fu">useRoute</span>()</span>
<span id="cb101-9"><a href="#cb101-9" tabindex="-1"></a><span class="kw">const</span> user <span class="op">=</span> ref<span class="op">&lt;</span>UserType<span class="op">&gt;</span>()<span class="op">;</span></span>
<span id="cb101-10"><a href="#cb101-10" tabindex="-1"></a></span>
<span id="cb101-11"><a href="#cb101-11" tabindex="-1"></a><span class="co">// mit der route.params mitfahren (die Eigenschaften ist reaktiv)</span></span>
<span id="cb101-12"><a href="#cb101-12" tabindex="-1"></a><span class="fu">watchEffect</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb101-13"><a href="#cb101-13" tabindex="-1"></a>  <span class="kw">const</span> userid <span class="op">=</span> route<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">id</span> <span class="op">||</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb101-14"><a href="#cb101-14" tabindex="-1"></a>  user<span class="op">.</span><span class="at">value</span> <span class="op">=</span> users<span class="op">.</span><span class="fu">find</span>((user) <span class="kw">=&gt;</span> user<span class="op">.</span><span class="at">id</span> <span class="op">==</span> userid)</span>
<span id="cb101-15"><a href="#cb101-15" tabindex="-1"></a>})</span>
<span id="cb101-16"><a href="#cb101-16" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="weitergabe-von-params-als-props" class="slide section level1">
<h1>Weitergabe von Params als Props</h1>
<p>In Vue.js können Routen-Parameter als Props an ein Komponenten
übergeben werden. Dies ist besonders nützlich, wenn die Parameter in der
URL dynamisch sind und die Komponente auf diese Parameter reagieren
soll.</p>
<div class="sourceCode" id="cb102"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb102-1"><a href="#cb102-1" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> <span class="fu">createRouter</span>({</span>
<span id="cb102-2"><a href="#cb102-2" tabindex="-1"></a>    history<span class="op">:</span> <span class="fu">createWebHistory</span>()<span class="op">,</span></span>
<span id="cb102-3"><a href="#cb102-3" tabindex="-1"></a>    routes<span class="op">:</span> [</span>
<span id="cb102-4"><a href="#cb102-4" tabindex="-1"></a>        { path<span class="op">:</span> <span class="st">&quot;/users/:id&quot;</span><span class="op">,</span> component<span class="op">:</span> User<span class="op">,</span> props<span class="op">:</span> <span class="kw">true</span> }</span>
<span id="cb102-5"><a href="#cb102-5" tabindex="-1"></a>    ]</span>
<span id="cb102-6"><a href="#cb102-6" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="verwendung-von-verschachtelten-routen"
class="slide section level1">
<h1>Verwendung von verschachtelten Routen</h1>
<ul>
<li>Props können an verschachtelten Routen weitergegeben werden.</li>
<li>Dazu wird die <code>props</code>-Option in der Route-Konfiguration
verwendet.</li>
</ul>
<div class="sourceCode" id="cb103"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb103-1"><a href="#cb103-1" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> <span class="fu">createRouter</span>({</span>
<span id="cb103-2"><a href="#cb103-2" tabindex="-1"></a>    history<span class="op">:</span> <span class="fu">createWebHistory</span>()<span class="op">,</span></span>
<span id="cb103-3"><a href="#cb103-3" tabindex="-1"></a>    routes<span class="op">:</span> [</span>
<span id="cb103-4"><a href="#cb103-4" tabindex="-1"></a>        { path<span class="op">:</span> <span class="st">&quot;/users/:id&quot;</span><span class="op">,</span> component<span class="op">:</span> User<span class="op">,</span> props<span class="op">:</span> <span class="kw">true</span><span class="op">,</span> children<span class="op">:</span> [</span>
<span id="cb103-5"><a href="#cb103-5" tabindex="-1"></a>                <span class="co">/* ... */</span></span>
<span id="cb103-6"><a href="#cb103-6" tabindex="-1"></a>        ]</span>
<span id="cb103-7"><a href="#cb103-7" tabindex="-1"></a>        }</span>
<span id="cb103-8"><a href="#cb103-8" tabindex="-1"></a>    ]</span>
<span id="cb103-9"><a href="#cb103-9" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="verwendung-benannter-views" class="slide section level1">
<h1>Verwendung benannter Views</h1>
<ul>
<li>In den Routen kann ausschließlich mit der <code>path</code>-Option
gearbeitet werden.</li>
<li>Dies hat jedoch den Nachteil, dass die Routen bei Änderungen der
Pfade auch in den Komponenten angepasst werden müssen.</li>
<li>Mit benannten Views kann man die Pfade in den Komponenten unabhängig
von den Routen definieren.</li>
</ul>
<h2 id="benannte-views-verwenden">Benannte Views verwenden</h2>
<ul>
<li>Benannte Views werden in der Route-Konfiguration definiert.</li>
<li>Die benannten Views können dann in den Komponenten verwendet
werden.</li>
</ul>
<div class="sourceCode" id="cb104"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb104-1"><a href="#cb104-1" tabindex="-1"></a><span class="kw">const</span> router <span class="op">=</span> <span class="fu">createRouter</span>({</span>
<span id="cb104-2"><a href="#cb104-2" tabindex="-1"></a>    history<span class="op">:</span> <span class="fu">createWebHistory</span>()<span class="op">,</span></span>
<span id="cb104-3"><a href="#cb104-3" tabindex="-1"></a>    routes<span class="op">:</span> [</span>
<span id="cb104-4"><a href="#cb104-4" tabindex="-1"></a>        { path<span class="op">:</span> <span class="st">&quot;/&quot;</span><span class="op">,</span> name<span class="op">:</span> <span class="st">&quot;home&quot;</span><span class="op">,</span> component<span class="op">:</span> Home }<span class="op">,</span></span>
<span id="cb104-5"><a href="#cb104-5" tabindex="-1"></a>    ]</span>
<span id="cb104-6"><a href="#cb104-6" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="schutz-und-anpassung-von-seiten-mit-den-navigation-guards"
class="slide section level1">
<h1>Schutz und Anpassung von Seiten mit den Navigation-Guards</h1>
<ul>
<li>Navigation-Guards sind Funktionen, die vor dem Navigieren zu einer
Route ausgeführt werden</li>
<li>Es gibt drei Arten von Navigation-Guards:
<ul>
<li><code>beforeEach</code>: Wird vor jedem Navigieren ausgeführt</li>
<li><code>beforeResolve</code>: Wird nach dem
<code>beforeEach</code>-Guard ausgeführt</li>
<li><code>afterEach</code>: Wird nach dem Navigieren ausgeführt</li>
</ul></li>
<li>Navigation Guards können generell verwendet werden um z.B.:
<ul>
<li>Zugriff auf eine Seite zu verhindern</li>
<li>Daten zu laden</li>
<li>Metadaten zu setzen</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb105"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb105-1"><a href="#cb105-1" tabindex="-1"></a>router<span class="op">.</span><span class="fu">beforeEach</span>((to<span class="op">,</span> <span class="im">from</span><span class="op">,</span> next) <span class="kw">=&gt;</span> {</span>
<span id="cb105-2"><a href="#cb105-2" tabindex="-1"></a>    <span class="co">// set title from user defined meta data</span></span>
<span id="cb105-3"><a href="#cb105-3" tabindex="-1"></a>    <span class="kw">const</span> meta <span class="op">=</span> to<span class="op">.</span><span class="at">meta</span> <span class="im">as</span> MetaDataType</span>
<span id="cb105-4"><a href="#cb105-4" tabindex="-1"></a>    <span class="kw">const</span> { title } <span class="op">=</span> meta</span>
<span id="cb105-5"><a href="#cb105-5" tabindex="-1"></a>    <span class="cf">if</span> (title) {</span>
<span id="cb105-6"><a href="#cb105-6" tabindex="-1"></a>        <span class="bu">document</span><span class="op">.</span><span class="at">title</span> <span class="op">=</span> title</span>
<span id="cb105-7"><a href="#cb105-7" tabindex="-1"></a>    }</span>
<span id="cb105-8"><a href="#cb105-8" tabindex="-1"></a>    <span class="fu">next</span>()</span>
<span id="cb105-9"><a href="#cb105-9" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="navigation-guards-continued" class="slide section level1">
<h1>Navigation Guards continued</h1>
<ul>
<li>Navigation Guards können auch asynchron sein</li>
<li>Natürlich kann man so keine geschützten Bereiche implementieren und
den Zugriff auf Daten verhindern. Das muss immer serverseitig
geschehen.</li>
</ul>
</div>
<div id="state-management-mit-pinia-als-data-store"
class="slide section level1">
<h1>State Management mit Pinia als Data Store</h1>
<ul>
<li>Pinia als Store verwenden</li>
<li>State Management / Pinia als neuer Standard in Vue 3</li>
<li>Kurzer Überblick über Pinia vs Vuex</li>
<li>Pinia installieren</li>
<li>Getters und Actions erstellen</li>
</ul>
</div>
<div id="pinia-als-store-verwenden" class="slide section level1">
<h1>Pinia als Store verwenden</h1>
<ul>
<li>Die Installation von Pinia erfolgt über
<code>npm install pinia</code>.</li>
<li>Pinia ist der offizielle Store für Vue 3.</li>
<li>Vuex ist für Vue 2 und Vue 3 verfügbar und war vorher der meisten
genutzte Store.</li>
</ul>
</div>
<div id="muss-man-einen-store-verwenden" class="slide section level1">
<h1>Muss man einen Store verwenden?</h1>
<ul>
<li>Ein Store ist nicht zwingend notwendig.</li>
<li>provide/inject und eigene Composables können Stors ersetzen.</li>
<li>Ein Store ist also ja nach Präferenz und Anforderungen sinnvoll,
aber nicht mehr im altbekannten Sinne notwendig.</li>
</ul>
</div>
<div id="pinia-store-erstellen" class="slide section level1">
<h1>Pinia Store erstellen</h1>
<ul>
<li>Ein Pinia Store wird wie folgt erstellt:</li>
</ul>
<div class="sourceCode" id="cb106"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a><span class="im">import</span> { defineStore } <span class="im">from</span> <span class="st">&#39;pinia&#39;</span></span>
<span id="cb106-2"><a href="#cb106-2" tabindex="-1"></a></span>
<span id="cb106-3"><a href="#cb106-3" tabindex="-1"></a><span class="im">export</span> <span class="kw">const</span> useCounterStore <span class="op">=</span> <span class="fu">defineStore</span>({</span>
<span id="cb106-4"><a href="#cb106-4" tabindex="-1"></a>  id<span class="op">:</span> <span class="st">&#39;counter&#39;</span><span class="op">,</span></span>
<span id="cb106-5"><a href="#cb106-5" tabindex="-1"></a>  state<span class="op">:</span> () <span class="kw">=&gt;</span> ({</span>
<span id="cb106-6"><a href="#cb106-6" tabindex="-1"></a>    count<span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb106-7"><a href="#cb106-7" tabindex="-1"></a>  })<span class="op">,</span></span>
<span id="cb106-8"><a href="#cb106-8" tabindex="-1"></a>  actions<span class="op">:</span> {</span>
<span id="cb106-9"><a href="#cb106-9" tabindex="-1"></a>    <span class="fu">increment</span>() {</span>
<span id="cb106-10"><a href="#cb106-10" tabindex="-1"></a>      <span class="kw">this</span><span class="op">.</span><span class="at">count</span><span class="op">++</span></span>
<span id="cb106-11"><a href="#cb106-11" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb106-12"><a href="#cb106-12" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb106-13"><a href="#cb106-13" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="aufbau-der-stores" class="slide section level1">
<h1>Aufbau der Stores</h1>
<ul>
<li><p>Ein Store besteht aus <code>state</code> und
<code>actions</code>.</p></li>
<li><p><code>state</code> ist ein Objekt, das die Daten des Stores
enthält.</p></li>
<li><p><code>actions</code> sind Funktionen, die die Daten des Stores
verändern.</p></li>
<li><p>Durch die Verwendung von <code>this</code> können die Daten des
Stores verändert werden.</p></li>
<li><p>Durch die tiefe Reaktivität von Vue 3 werden alle Änderungen
automatisch im Store und in den Komponenten reflektiert.</p></li>
</ul>
</div>
<div id="reaktive-verwendung-des-stores" class="slide section level1">
<h1>Reaktive Verwendung des Stores</h1>
<ul>
<li>Ein Store wird in einer Komponente wie folgt verwendet:</li>
</ul>
<div class="sourceCode" id="cb107"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb107-1"><a href="#cb107-1" tabindex="-1"></a><span class="im">import</span> { useCounterStore } <span class="im">from</span> <span class="st">&#39;./store&#39;</span></span>
<span id="cb107-2"><a href="#cb107-2" tabindex="-1"></a></span>
<span id="cb107-3"><a href="#cb107-3" tabindex="-1"></a><span class="kw">const</span> counterStore <span class="op">=</span> <span class="fu">useCounterStore</span>()</span>
<span id="cb107-4"><a href="#cb107-4" tabindex="-1"></a><span class="co">// counterStore.count ist reaktiv</span></span>
<span id="cb107-5"><a href="#cb107-5" tabindex="-1"></a><span class="co">// counterStore.increment() verändert den Store</span></span></code></pre></div>
</div>
<div id="reaktive-verwendung-des-stores-und-deskturkturierung"
class="slide section level1">
<h1>Reaktive Verwendung des Stores und Deskturkturierung</h1>
<ul>
<li>Ein Store kann auch deskturiert verwendet werden:</li>
</ul>
<div class="sourceCode" id="cb108"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb108-1"><a href="#cb108-1" tabindex="-1"></a><span class="im">import</span> { useCounterStore } <span class="im">from</span> <span class="st">&#39;./store&#39;</span></span>
<span id="cb108-2"><a href="#cb108-2" tabindex="-1"></a></span>
<span id="cb108-3"><a href="#cb108-3" tabindex="-1"></a><span class="kw">const</span> { count<span class="op">,</span> increment } <span class="op">=</span> <span class="fu">useCounterStore</span>()</span>
<span id="cb108-4"><a href="#cb108-4" tabindex="-1"></a></span>
<span id="cb108-5"><a href="#cb108-5" tabindex="-1"></a><span class="co">// count ist jetzt nur eine normale Variable und reaktiv</span></span>
<span id="cb108-6"><a href="#cb108-6" tabindex="-1"></a><span class="co">// increment() verändert den Store weiterhin.</span></span></code></pre></div>
</div>
<div id="state-management-pinia-als-neuer-standard-in-vue-3"
class="slide section level1">
<h1>State Management / Pinia als neuer Standard in Vue 3</h1>
<ul>
<li>Pinia ist ein neues State Management System für Vue 3.</li>
<li>Pinia ist offiziell auf der Vue.js Webseite gelistet.</li>
</ul>
</div>
<div id="kurzer-überblick-über-pinia-vs-vuex"
class="slide section level1">
<h1>Kurzer Überblick über Pinia vs Vuex</h1>
<ul>
<li><p>Vuex funktioniert für Vue 2 und Vue 3.</p></li>
<li><p>Pinia ist ein alternatives State-Management-Plugin für Vue
3.</p></li>
<li><p>Pinia ist (subjektiv) einfacher zu verwenden als Vuex.</p></li>
<li><p>Pinia verwendet TypeScript und bietet eine bessere
Typisierung.</p></li>
<li><p>Pinia verwendet ES6-Module und ist tree-shakable.</p></li>
<li><p>Pinia verwendet Vue 3 Composition API.</p></li>
<li><p>storeToRefs aus Pinia ist eine Alternative zu mapState aus Vuex
und erlaubt die Verwendung von Refs direkt aus dem Store.</p></li>
</ul>
</div>
<div id="pinia-installieren" class="slide section level1">
<h1>Pinia installieren</h1>
<ul>
<li>Um Pinia zu installieren, kann das Package <code>pinia</code>
mittels npm oder yarn installiert werden.</li>
<li>Einbindung in das Projekt erfolgt über <code>createPinia()</code> im
<code>main.ts</code>-File.</li>
</ul>
<div class="sourceCode" id="cb109"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb109-1"><a href="#cb109-1" tabindex="-1"></a><span class="ex">npm</span> install pinia</span></code></pre></div>
<ul>
<li>Anschließend wird Pinia in das Vue-Projekt eingebunden:</li>
</ul>
<div class="sourceCode" id="cb110"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb110-1"><a href="#cb110-1" tabindex="-1"></a><span class="co">// main.ts</span></span>
<span id="cb110-2"><a href="#cb110-2" tabindex="-1"></a><span class="im">import</span> { createApp } <span class="im">from</span> <span class="st">&#39;vue&#39;</span></span>
<span id="cb110-3"><a href="#cb110-3" tabindex="-1"></a><span class="im">import</span> App <span class="im">from</span> <span class="st">&#39;./App.vue&#39;</span></span>
<span id="cb110-4"><a href="#cb110-4" tabindex="-1"></a><span class="im">import</span> { createPinia } <span class="im">from</span> <span class="st">&#39;pinia&#39;</span></span>
<span id="cb110-5"><a href="#cb110-5" tabindex="-1"></a></span>
<span id="cb110-6"><a href="#cb110-6" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">createApp</span>(App)</span>
<span id="cb110-7"><a href="#cb110-7" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(<span class="fu">createPinia</span>())</span>
<span id="cb110-8"><a href="#cb110-8" tabindex="-1"></a>app<span class="op">.</span><span class="fu">mount</span>(<span class="st">&#39;#app&#39;</span>)</span></code></pre></div>
<ul>
<li><p>Pinia ist nun im Projekt verfügbar und kann verwendet werden. #
Getters und Actions erstellen</p></li>
<li><p>Getters und Actions sind Methoden, die in einem Store definiert
werden.</p></li>
<li><p>Getters sind Methoden, die den Zustand des Stores abfragen und
berechnen.</p></li>
<li><p>Actions sind Methoden, die Mutationen auslösen und asynchrone
Operationen durchführen.</p></li>
<li><p>Getters sind nicht notwendig, da man auch direkt auf den Zustand
des Stores zugreifen kann.</p></li>
<li><p>Getters passen nicht zum Composable-Programmierstil, da sie nicht
reaktiv sind.</p></li>
</ul>
</div>
<div id="getters-erstellen" class="slide section level1">
<h1>Getters erstellen</h1>
<ul>
<li>Getters sind Methoden, die den Zustand des Stores abfragen und
berechnen.</li>
<li>Getters werden in einem Objekt definiert und können dann in den
Komponenten verwendet werden.</li>
</ul>
<div class="sourceCode" id="cb111"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb111-1"><a href="#cb111-1" tabindex="-1"></a><span class="im">import</span> { createStore } <span class="im">from</span> <span class="st">&#39;vuex&#39;</span></span>
<span id="cb111-2"><a href="#cb111-2" tabindex="-1"></a></span>
<span id="cb111-3"><a href="#cb111-3" tabindex="-1"></a><span class="kw">const</span> store <span class="op">=</span> <span class="fu">createStore</span>({</span>
<span id="cb111-4"><a href="#cb111-4" tabindex="-1"></a>    state<span class="op">:</span> {</span>
<span id="cb111-5"><a href="#cb111-5" tabindex="-1"></a>        count<span class="op">:</span> <span class="dv">0</span></span>
<span id="cb111-6"><a href="#cb111-6" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb111-7"><a href="#cb111-7" tabindex="-1"></a>    getters<span class="op">:</span> {</span>
<span id="cb111-8"><a href="#cb111-8" tabindex="-1"></a>        <span class="fu">getCount</span>(state) {</span>
<span id="cb111-9"><a href="#cb111-9" tabindex="-1"></a>            <span class="cf">return</span> state<span class="op">.</span><span class="at">count</span></span>
<span id="cb111-10"><a href="#cb111-10" tabindex="-1"></a>        }</span>
<span id="cb111-11"><a href="#cb111-11" tabindex="-1"></a>    }</span>
<span id="cb111-12"><a href="#cb111-12" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="actions-erstellen" class="slide section level1">
<h1>Actions erstellen</h1>
<ul>
<li>Actions sind Methoden, die Mutationen auslösen und asynchrone
Operationen durchführen.</li>
</ul>
<div class="sourceCode" id="cb112"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb112-1"><a href="#cb112-1" tabindex="-1"></a><span class="im">import</span> { createStore } <span class="im">from</span> <span class="st">&#39;vuex&#39;</span></span>
<span id="cb112-2"><a href="#cb112-2" tabindex="-1"></a></span>
<span id="cb112-3"><a href="#cb112-3" tabindex="-1"></a><span class="kw">const</span> store <span class="op">=</span> <span class="fu">createStore</span>({</span>
<span id="cb112-4"><a href="#cb112-4" tabindex="-1"></a>    state<span class="op">:</span> {</span>
<span id="cb112-5"><a href="#cb112-5" tabindex="-1"></a>        count<span class="op">:</span> <span class="dv">0</span></span>
<span id="cb112-6"><a href="#cb112-6" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb112-7"><a href="#cb112-7" tabindex="-1"></a>    mutations<span class="op">:</span> {</span>
<span id="cb112-8"><a href="#cb112-8" tabindex="-1"></a>        <span class="fu">increment</span>(state) {</span>
<span id="cb112-9"><a href="#cb112-9" tabindex="-1"></a>            state<span class="op">.</span><span class="at">count</span><span class="op">++</span></span>
<span id="cb112-10"><a href="#cb112-10" tabindex="-1"></a>        }</span>
<span id="cb112-11"><a href="#cb112-11" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb112-12"><a href="#cb112-12" tabindex="-1"></a>    actions<span class="op">:</span> {</span>
<span id="cb112-13"><a href="#cb112-13" tabindex="-1"></a>        <span class="fu">increment</span>(context) {</span>
<span id="cb112-14"><a href="#cb112-14" tabindex="-1"></a>            context<span class="op">.</span><span class="fu">commit</span>(<span class="st">&#39;increment&#39;</span>)</span>
<span id="cb112-15"><a href="#cb112-15" tabindex="-1"></a>        }</span>
<span id="cb112-16"><a href="#cb112-16" tabindex="-1"></a>    }</span>
<span id="cb112-17"><a href="#cb112-17" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="mutations-undoder-actions" class="slide section level1">
<h1>Mutations und/oder Actions ?</h1>
<ul>
<li>In den Komponenten können Mutationen und Actions verwendet
werden.</li>
<li>Mutationen sind synchron und Actions sind potentiell asynchron.</li>
<li>Mutationen sind eher unüblich, da Actions mächtiger sind und auch
asynchron sein können.</li>
</ul>
</div>
<div id="counter-store-ohne-getters-und-mutations"
class="slide section level1">
<h1>Counter Store ohne Getters und Mutations</h1>
<div class="sourceCode" id="cb113"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb113-1"><a href="#cb113-1" tabindex="-1"></a><span class="im">import</span> { createStore } <span class="im">from</span> <span class="st">&#39;vuex&#39;</span></span>
<span id="cb113-2"><a href="#cb113-2" tabindex="-1"></a></span>
<span id="cb113-3"><a href="#cb113-3" tabindex="-1"></a><span class="kw">const</span> store <span class="op">=</span> <span class="fu">createStore</span>({</span>
<span id="cb113-4"><a href="#cb113-4" tabindex="-1"></a>    state<span class="op">:</span> {</span>
<span id="cb113-5"><a href="#cb113-5" tabindex="-1"></a>        count<span class="op">:</span> <span class="dv">0</span></span>
<span id="cb113-6"><a href="#cb113-6" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb113-7"><a href="#cb113-7" tabindex="-1"></a>    actions<span class="op">:</span> {</span>
<span id="cb113-8"><a href="#cb113-8" tabindex="-1"></a>        <span class="fu">increment</span>(context) {</span>
<span id="cb113-9"><a href="#cb113-9" tabindex="-1"></a>            context<span class="op">.</span><span class="at">state</span><span class="op">.</span><span class="at">count</span><span class="op">++</span></span>
<span id="cb113-10"><a href="#cb113-10" tabindex="-1"></a>        }</span>
<span id="cb113-11"><a href="#cb113-11" tabindex="-1"></a>    }</span>
<span id="cb113-12"><a href="#cb113-12" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="counterstore-im-composable-stil-in-einer-komponente-verwenden"
class="slide section level1">
<h1>Counterstore im Composable-Stil in einer Komponente verwenden</h1>
<div class="sourceCode" id="cb114"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb114-1"><a href="#cb114-1" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb114-2"><a href="#cb114-2" tabindex="-1"></a>    <span class="dt">&lt;</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb114-3"><a href="#cb114-3" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">p</span><span class="dt">&gt;</span>Count: {{ count }}<span class="dt">&lt;/</span><span class="kw">p</span><span class="dt">&gt;</span></span>
<span id="cb114-4"><a href="#cb114-4" tabindex="-1"></a>        <span class="dt">&lt;</span><span class="kw">button</span> <span class="er">@click</span><span class="ot">=</span><span class="st">&quot;increment&quot;</span><span class="dt">&gt;</span>Increment<span class="dt">&lt;/</span><span class="kw">button</span><span class="dt">&gt;</span></span>
<span id="cb114-5"><a href="#cb114-5" tabindex="-1"></a>    <span class="dt">&lt;/</span><span class="kw">div</span><span class="dt">&gt;</span></span>
<span id="cb114-6"><a href="#cb114-6" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">template</span><span class="dt">&gt;</span></span>
<span id="cb114-7"><a href="#cb114-7" tabindex="-1"></a><span class="dt">&lt;</span><span class="kw">script</span> <span class="er">setup</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;ts&quot;</span><span class="dt">&gt;</span></span>
<span id="cb114-8"><a href="#cb114-8" tabindex="-1"></a><span class="im">import</span> { useCounterStore } <span class="im">from</span> <span class="st">&#39;./store&#39;</span><span class="op">;</span></span>
<span id="cb114-9"><a href="#cb114-9" tabindex="-1"></a><span class="im">import</span> { storeToRefs } <span class="im">from</span> <span class="st">&#39;pinia&#39;</span><span class="op">;</span></span>
<span id="cb114-10"><a href="#cb114-10" tabindex="-1"></a></span>
<span id="cb114-11"><a href="#cb114-11" tabindex="-1"></a><span class="co">// count mit storeToRefs aus dem Store holen</span></span>
<span id="cb114-12"><a href="#cb114-12" tabindex="-1"></a><span class="kw">const</span> { count } <span class="op">=</span> <span class="fu">storeToRefs</span>(<span class="fu">useCounterStore</span>())</span>
<span id="cb114-13"><a href="#cb114-13" tabindex="-1"></a><span class="co">// increment aus dem Store holen, diese Funktion direkt destrukturieren</span></span>
<span id="cb114-14"><a href="#cb114-14" tabindex="-1"></a><span class="kw">const</span> { increment } <span class="op">=</span> <span class="fu">useCounterStore</span>()</span>
<span id="cb114-15"><a href="#cb114-15" tabindex="-1"></a><span class="dt">&lt;/</span><span class="kw">script</span><span class="dt">&gt;</span></span></code></pre></div>
</div>
<div id="unit-testing-mit-vitest" class="slide section level1">
<h1>Unit Testing mit Vitest</h1>
<ul>
<li>Installation, Integration und Konfiguration von Vitest in einem
Vite-Projekt</li>
<li>Eigene Test-Suites erstellen</li>
<li>Mausklicks in Tests simulieren und Ergebnis auswerten</li>
<li>Mocks am Beispiel von AJAX-Requests mit Axios erstellen</li>
<li>Mock Browser API mit Happy DOM</li>
<li>Erstellen von Spy-Objekten</li>
<li>Testabdeckung der Anwendung durch Coverage beobachten</li>
<li>Snapshots erstellen</li>
<li>Eigene Vue-Komponenten mounten und testen</li>
</ul>
</div>
<div id="git-repository" class="slide section level1">
<h1>Git-Repository</h1>
<p>Das Git-Repository zu diesem Kapitel findest du unter <a
href="https://github.com/srutz/vueempty/tree/vitest">Github</a></p>
</div>
<div
id="installation-integration-und-konfiguration-von-vitest-in-einem-vite-projekt"
class="slide section level1">
<h1>Installation, Integration und Konfiguration von Vitest in einem
Vite-Projekt</h1>
<ul>
<li>Die Installation von Vitest erfolgt wie folgt:</li>
</ul>
<div class="sourceCode" id="cb115"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb115-1"><a href="#cb115-1" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-D</span> vitest</span></code></pre></div>
<ul>
<li>Die Konfiguration von Vitest erfolgt in der
<code>vite.config.ts</code> oder alternativ in der
<code>vite.config.js</code>:</li>
</ul>
<div class="sourceCode" id="cb116"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb116-1"><a href="#cb116-1" tabindex="-1"></a><span class="im">import</span> { defineConfig } <span class="im">from</span> <span class="st">&#39;vitest/config&#39;</span></span>
<span id="cb116-2"><a href="#cb116-2" tabindex="-1"></a><span class="im">import</span> vue <span class="im">from</span> <span class="st">&#39;@vitejs/plugin-vue&#39;</span></span>
<span id="cb116-3"><a href="#cb116-3" tabindex="-1"></a></span>
<span id="cb116-4"><a href="#cb116-4" tabindex="-1"></a><span class="im">export</span> <span class="im">default</span> <span class="fu">defineConfig</span>({</span>
<span id="cb116-5"><a href="#cb116-5" tabindex="-1"></a>  plugins<span class="op">:</span> [<span class="fu">vue</span>()]<span class="op">,</span></span>
<span id="cb116-6"><a href="#cb116-6" tabindex="-1"></a>  test<span class="op">:</span> {</span>
<span id="cb116-7"><a href="#cb116-7" tabindex="-1"></a>    globals<span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb116-8"><a href="#cb116-8" tabindex="-1"></a>    <span class="co">//setupFiles: [&#39;./test/setup.ts&#39;],</span></span>
<span id="cb116-9"><a href="#cb116-9" tabindex="-1"></a>    include<span class="op">:</span> [<span class="st">&#39;**/*.{test,spec}.{js,ts,jsx,tsx}&#39;</span>]<span class="op">,</span></span>
<span id="cb116-10"><a href="#cb116-10" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb116-11"><a href="#cb116-11" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="aufruf-von-vitest" class="slide section level1">
<h1>Aufruf von vitest</h1>
<ul>
<li>Vitest kann mit dem Befehl <code>vitest</code> gestartet
werden:</li>
</ul>
<div class="sourceCode" id="cb117"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb117-1"><a href="#cb117-1" tabindex="-1"></a><span class="ex">npx</span> vitest</span></code></pre></div>
<ul>
<li>Es gibt auch die Möglicheit in dem Modi für Benchmarks und Coverage
zu starten:</li>
</ul>
<div class="sourceCode" id="cb118"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb118-1"><a href="#cb118-1" tabindex="-1"></a><span class="ex">npx</span> vitest bench</span></code></pre></div>
<ul>
<li>Die UI von vitest ist sehr ansprechend und zeigt die Ergebnisse der
Tests im Browser an.</li>
</ul>
<div class="sourceCode" id="cb119"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb119-1"><a href="#cb119-1" tabindex="-1"></a><span class="ex">npx</span> vitest <span class="at">--ui</span></span></code></pre></div>
</div>
<div id="eigene-test-suites-erstellen" class="slide section level1">
<h1>Eigene Test-Suites erstellen</h1>
<ul>
<li>Gemäß der Konfiguration in <code>vite.config.ts</code> sind alle
Dateien, die auf <code>.test.tsx</code> oder <code>.spec.tsx</code>
enden, Testdateien.</li>
<li>Ein einfacher Test sieht wie folgt aus:</li>
</ul>
<div class="sourceCode" id="cb120"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb120-1"><a href="#cb120-1" tabindex="-1"></a></span>
<span id="cb120-2"><a href="#cb120-2" tabindex="-1"></a><span class="im">import</span> { describe<span class="op">,</span> expect<span class="op">,</span> test } <span class="im">from</span> <span class="st">&quot;vitest&quot;</span><span class="op">;</span></span>
<span id="cb120-3"><a href="#cb120-3" tabindex="-1"></a></span>
<span id="cb120-4"><a href="#cb120-4" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&quot;Simple test&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb120-5"><a href="#cb120-5" tabindex="-1"></a>    <span class="fu">test</span>(<span class="st">&quot;should pass&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb120-6"><a href="#cb120-6" tabindex="-1"></a>        <span class="fu">expect</span>(<span class="dv">1</span> <span class="op">+</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">toBe</span>(<span class="dv">2</span>)</span>
<span id="cb120-7"><a href="#cb120-7" tabindex="-1"></a>    })</span>
<span id="cb120-8"><a href="#cb120-8" tabindex="-1"></a>    <span class="fu">test</span>(<span class="st">&quot;should also pass&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb120-9"><a href="#cb120-9" tabindex="-1"></a>       <span class="fu">assert</span>(<span class="dv">2</span> <span class="op">!==</span> <span class="dv">3</span><span class="op">,</span> <span class="st">&#39;2 and 3 are different&#39;</span>)</span>
<span id="cb120-10"><a href="#cb120-10" tabindex="-1"></a>    })</span>
<span id="cb120-11"><a href="#cb120-11" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="expect-und-assert" class="slide section level1">
<h1>Expect und Assert</h1>
<ul>
<li><code>expect</code> und <code>assert</code> sind die beiden
Hauptfunktionen, die in Vitest verwendet werden.</li>
<li><code>expect</code> wird verwendet, um Werte zu überprüfen. Es gibt
eine Reihe von to* Methoden, die verwendet werden können, um Werte zu
überprüfen.
<ul>
<li><code>toBe</code> überprüft, ob zwei Werte gleich sind.</li>
<li><code>toEqual</code> überprüft, ob zwei Werte tief gleich sind.</li>
<li><code>toBeGreaterThan</code> überprüft, ob ein Wert größer als ein
anderer Wert ist.<br />
</li>
<li>und viele mehr.</li>
</ul></li>
<li><code>assert</code> wird verwendet, um Werte zu überprüfen und eine
Nachricht auszugeben, wenn der Test fehlschlägt.</li>
</ul>
</div>
<div id="describe" class="slide section level1">
<h1>Describe</h1>
<ul>
<li>Die Funktion <code>describe</code> wird verwendet, um Tests zu
gruppieren. Describe erzeugt eine Testsuite und gruppiert die Tests
innerhalb dieser Suite und kann auch rekursiv weitere Suites
enthalten.</li>
</ul>
</div>
<div id="benchmarks" class="slide section level1">
<h1>Benchmarks</h1>
<ul>
<li>Die Funktion <code>bench</code> wird verwendet, um die Laufzeit von
Funktionen zu messen.</li>
<li>Dafür muss der Dateiname auf <em>.benchmark.ts oder </em>.bench.ts
enden.</li>
</ul>
<div class="sourceCode" id="cb121"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb121-1"><a href="#cb121-1" tabindex="-1"></a><span class="im">import</span> { bench<span class="op">,</span> describe } <span class="im">from</span> <span class="st">&quot;vitest&quot;</span></span>
<span id="cb121-2"><a href="#cb121-2" tabindex="-1"></a></span>
<span id="cb121-3"><a href="#cb121-3" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&quot;Simple test&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb121-4"><a href="#cb121-4" tabindex="-1"></a>    <span class="fu">bench</span>(<span class="st">&quot;should run fast&quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb121-5"><a href="#cb121-5" tabindex="-1"></a>        <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">1000</span><span class="op">;</span> i<span class="op">++</span>) {</span>
<span id="cb121-6"><a href="#cb121-6" tabindex="-1"></a>                <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(i)</span>
<span id="cb121-7"><a href="#cb121-7" tabindex="-1"></a>        }</span>
<span id="cb121-8"><a href="#cb121-8" tabindex="-1"></a>    })</span>
<span id="cb121-9"><a href="#cb121-9" tabindex="-1"></a>    <span class="fu">bench</span>(<span class="st">&quot;should take a while &quot;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb121-10"><a href="#cb121-10" tabindex="-1"></a>        <span class="kw">function</span> <span class="fu">fib</span>(n<span class="op">:</span> <span class="dt">number</span>)<span class="op">:</span> <span class="dt">number</span> {</span>
<span id="cb121-11"><a href="#cb121-11" tabindex="-1"></a>            <span class="cf">if</span> (n <span class="op">&lt;=</span> <span class="dv">1</span>) <span class="cf">return</span> n</span>
<span id="cb121-12"><a href="#cb121-12" tabindex="-1"></a>            <span class="cf">return</span> <span class="fu">fib</span>(n <span class="op">-</span> <span class="dv">1</span>) <span class="op">+</span> <span class="fu">fib</span>(n <span class="op">-</span> <span class="dv">2</span>)</span>
<span id="cb121-13"><a href="#cb121-13" tabindex="-1"></a>        }</span>
<span id="cb121-14"><a href="#cb121-14" tabindex="-1"></a>        <span class="fu">fib</span>(<span class="dv">40</span>)</span>
<span id="cb121-15"><a href="#cb121-15" tabindex="-1"></a>    })</span>
<span id="cb121-16"><a href="#cb121-16" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="mausklicks-in-tests-simulieren-und-ergebnis-auswerten"
class="slide section level1">
<h1>Mausklicks in Tests simulieren und Ergebnis auswerten</h1>
<ul>
<li>Um DOM Funktionen in Tests zu verwenden, wird
<code>@testing-library/dom</code> oder noch besser
<code>@testing-library/vue</code> benötigt.</li>
<li>Mit <code>@testing-library/vue</code> können Vue-Komponenten
getestet werden.</li>
<li>Installation der Abhängigkeiten für Vitest, Vue-Test-Utils und
Happy-Dom:</li>
</ul>
<div class="sourceCode" id="cb122"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb122-1"><a href="#cb122-1" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-D</span> vitest @vitejs/plugin-vue @testing-library/vue @vue/test-utils happy-dom</span></code></pre></div>
</div>
<div id="beispiel-dom-und-interaktionstest"
class="slide section level1">
<h1>Beispiel DOM und Interaktionstest</h1>
<ul>
<li>Eine Vue Komponente kann in einem Test mit
<code>@vue/test-utils</code> virtuell gemountet werden.</li>
</ul>
<div class="sourceCode" id="cb123"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb123-1"><a href="#cb123-1" tabindex="-1"></a><span class="im">import</span> { describe<span class="op">,</span> it<span class="op">,</span> expect } <span class="im">from</span> <span class="st">&#39;vitest&#39;</span></span>
<span id="cb123-2"><a href="#cb123-2" tabindex="-1"></a><span class="im">import</span> { mount } <span class="im">from</span> <span class="st">&#39;@vue/test-utils&#39;</span></span>
<span id="cb123-3"><a href="#cb123-3" tabindex="-1"></a><span class="im">import</span> CounterComponent <span class="im">from</span> <span class="st">&#39;./CounterComponent.vue&#39;</span></span>
<span id="cb123-4"><a href="#cb123-4" tabindex="-1"></a></span>
<span id="cb123-5"><a href="#cb123-5" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&#39;CounterComponent Test&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb123-6"><a href="#cb123-6" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;renders properly&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb123-7"><a href="#cb123-7" tabindex="-1"></a>        <span class="kw">const</span> wrapper <span class="op">=</span> <span class="fu">mount</span>(CounterComponent<span class="op">,</span> {</span>
<span id="cb123-8"><a href="#cb123-8" tabindex="-1"></a>            props<span class="op">:</span> {</span>
<span id="cb123-9"><a href="#cb123-9" tabindex="-1"></a>                title<span class="op">:</span> <span class="st">&#39;Hello World&#39;</span><span class="op">,</span></span>
<span id="cb123-10"><a href="#cb123-10" tabindex="-1"></a>            }<span class="op">,</span></span>
<span id="cb123-11"><a href="#cb123-11" tabindex="-1"></a>        })</span>
<span id="cb123-12"><a href="#cb123-12" tabindex="-1"></a>        <span class="fu">expect</span>(wrapper<span class="op">.</span><span class="fu">find</span>(<span class="st">&#39;.title&#39;</span>)<span class="op">.</span><span class="fu">text</span>())<span class="op">.</span><span class="fu">toContain</span>(<span class="st">&#39;Hello World&#39;</span>)</span>
<span id="cb123-13"><a href="#cb123-13" tabindex="-1"></a>    })</span>
<span id="cb123-14"><a href="#cb123-14" tabindex="-1"></a></span>
<span id="cb123-15"><a href="#cb123-15" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;updates on click&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb123-16"><a href="#cb123-16" tabindex="-1"></a>        <span class="kw">const</span> wrapper <span class="op">=</span> <span class="fu">mount</span>(CounterComponent)</span>
<span id="cb123-17"><a href="#cb123-17" tabindex="-1"></a>        <span class="cf">await</span> wrapper<span class="op">.</span><span class="fu">find</span>(<span class="st">&#39;.button&#39;</span>)<span class="op">.</span><span class="fu">trigger</span>(<span class="st">&#39;click&#39;</span>)</span>
<span id="cb123-18"><a href="#cb123-18" tabindex="-1"></a>        <span class="fu">expect</span>(wrapper<span class="op">.</span><span class="fu">find</span>(<span class="st">&#39;.count&#39;</span>)<span class="op">.</span><span class="fu">text</span>())<span class="op">.</span><span class="fu">toContain</span>(<span class="st">&#39;3&#39;</span>)</span>
<span id="cb123-19"><a href="#cb123-19" tabindex="-1"></a>    })</span>
<span id="cb123-20"><a href="#cb123-20" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="wichtige-happy-dom-und-vue-test-utils-funktionen"
class="slide section level1">
<h1>Wichtige Happy-Dom und Vue-Test-Utils Funktionen</h1>
<ul>
<li><code>mount</code> mountet eine Vue-Komponente.</li>
<li><code>wrapper.find</code> findet ein Element im DOM.</li>
<li><code>wrapper.trigger</code> triggert ein Event auf einem
Element.</li>
<li><code>wrapper.text</code> gibt den Text eines Elements zurück.</li>
<li><code>wrapper.html</code> gibt den HTML Code eines Elements
zurück.</li>
<li><code>wrapper.vm</code> gibt die Vue-Instanz zurück.</li>
<li><code>wrapper.props</code> gibt die Props zurück.</li>
<li><code>wrapper.setProps</code> setzt die Props.</li>
</ul>
</div>
<div id="mocks-am-beispiel-von-ajax-requests-mit-axios-erstellen"
class="slide section level1">
<h1>Mocks am Beispiel von AJAX-Requests mit Axios erstellen</h1>
<ul>
<li>Mocks sind nützlich, um die Entwicklung von Frontend-Applikationen
zu beschleunigen.</li>
<li>Sie können verwendet werden, um die Kommunikation mit einem Backend
zu simulieren.</li>
<li>Ein Mock für einen API Request kann wie folgt aussehen:</li>
</ul>
<div class="sourceCode" id="cb124"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb124-1"><a href="#cb124-1" tabindex="-1"></a><span class="im">import</span> axios <span class="im">from</span> <span class="st">&#39;axios&#39;</span></span>
<span id="cb124-2"><a href="#cb124-2" tabindex="-1"></a><span class="im">import</span> MockAdapter <span class="im">from</span> <span class="st">&#39;axios-mock-adapter&#39;</span></span>
<span id="cb124-3"><a href="#cb124-3" tabindex="-1"></a></span>
<span id="cb124-4"><a href="#cb124-4" tabindex="-1"></a><span class="kw">const</span> mock <span class="op">=</span> <span class="kw">new</span> <span class="fu">MockAdapter</span>(axios)</span>
<span id="cb124-5"><a href="#cb124-5" tabindex="-1"></a></span>
<span id="cb124-6"><a href="#cb124-6" tabindex="-1"></a>mock<span class="op">.</span><span class="fu">onGet</span>(<span class="st">&#39;/api/data&#39;</span>)<span class="op">.</span><span class="fu">reply</span>(<span class="dv">200</span><span class="op">,</span> {</span>
<span id="cb124-7"><a href="#cb124-7" tabindex="-1"></a>    data<span class="op">:</span> {</span>
<span id="cb124-8"><a href="#cb124-8" tabindex="-1"></a>        id<span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb124-9"><a href="#cb124-9" tabindex="-1"></a>        name<span class="op">:</span> <span class="st">&#39;John Doe&#39;</span><span class="op">,</span></span>
<span id="cb124-10"><a href="#cb124-10" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb124-11"><a href="#cb124-11" tabindex="-1"></a>})</span>
<span id="cb124-12"><a href="#cb124-12" tabindex="-1"></a></span>
<span id="cb124-13"><a href="#cb124-13" tabindex="-1"></a>axios<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;/api/data&#39;</span>)<span class="op">.</span><span class="fu">then</span>((response) <span class="kw">=&gt;</span> {</span>
<span id="cb124-14"><a href="#cb124-14" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(response<span class="op">.</span><span class="at">data</span>)</span>
<span id="cb124-15"><a href="#cb124-15" tabindex="-1"></a>})</span></code></pre></div>
<ul>
<li>In diesem Beispiel wird ein Mock für einen GET-Request auf
<code>/api/data</code> erstellt.</li>
</ul>
</div>
<div id="mock-browser-api-mit-happy-dom" class="slide section level1">
<h1>Mock Browser API mit Happy DOM</h1>
<ul>
<li>Die Browser-APIs sind nicht in Node.js verfügbar, würden also beim
Testen von Frontend-Code fehlen.</li>
<li>Mit Happy DOM können die Browser-APIs im Node.js-Testumfeld
simuliert werden.</li>
<li>it() und test() sind synonyme Funktionen, die einen Test
beschreiben.</li>
<li>Beispiel für die Verwendung von Happy DOM um in einem Test die
Browser-APIs wie window.alert zu simulieren:</li>
</ul>
<div class="sourceCode" id="cb125"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb125-1"><a href="#cb125-1" tabindex="-1"></a><span class="im">import</span> { describe<span class="op">,</span> it<span class="op">,</span> expect } <span class="im">from</span> <span class="st">&#39;vitest&#39;</span></span>
<span id="cb125-2"><a href="#cb125-2" tabindex="-1"></a></span>
<span id="cb125-3"><a href="#cb125-3" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&#39;Happy DOM Test&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb125-4"><a href="#cb125-4" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;should mock window.alert&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb125-5"><a href="#cb125-5" tabindex="-1"></a>        <span class="kw">const</span> alert <span class="op">=</span> jest<span class="op">.</span><span class="fu">fn</span>()</span>
<span id="cb125-6"><a href="#cb125-6" tabindex="-1"></a>        globalThis<span class="op">.</span><span class="at">alert</span> <span class="op">=</span> alert</span>
<span id="cb125-7"><a href="#cb125-7" tabindex="-1"></a>        <span class="fu">alert</span>(<span class="st">&#39;Hello World&#39;</span>)</span>
<span id="cb125-8"><a href="#cb125-8" tabindex="-1"></a>        <span class="fu">expect</span>(alert)<span class="op">.</span><span class="fu">toHaveBeenCalledWith</span>(<span class="st">&#39;Hello World&#39;</span>)</span>
<span id="cb125-9"><a href="#cb125-9" tabindex="-1"></a>    })</span>
<span id="cb125-10"><a href="#cb125-10" tabindex="-1"></a>})</span></code></pre></div>
</div>
<div id="erstellen-von-spy-objekten" class="slide section level1">
<h1>Erstellen von Spy-Objekten</h1>
</div>
<div id="vitest-und-coverage" class="slide section level1">
<h1>Vitest und Coverage</h1>
<ul>
<li>Vitest kann auch mit Coverage gestartet werden:</li>
</ul>
<div class="sourceCode" id="cb126"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb126-1"><a href="#cb126-1" tabindex="-1"></a><span class="ex">npx</span> vitest run <span class="at">--coverage</span></span></code></pre></div>
<pre class="plaintext"><code> % Coverage report from v8
-----------------------|---------|----------|---------|---------|-------------------
File                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-----------------------|---------|----------|---------|---------|-------------------
All files              |   27.27 |    33.33 |      20 |   27.27 |                   
 vueempty              |       0 |        0 |       0 |       0 |                   
  postcss.config.js    |       0 |        0 |       0 |       0 | 1-6               
  tailwind.config.js   |       0 |        0 |       0 |       0 | 1-11              
 vueempty/src          |   56.25 |       50 |   33.33 |   56.25 |                   
  App.vue              |       0 |        0 |       0 |       0 | 1-5               
  CounterComponent.vue |     100 |      100 |     100 |     100 |                   
  main.ts              |       0 |        0 |       0 |       0 | 1-5               
-----------------------|---------|----------|---------|---------|-------------------</code></pre>
</div>
<div id="coverage-hintergrund" class="slide section level1">
<h1>Coverage Hintergrund</h1>
<ul>
<li>FÜr Coverage wird ein Report erstellt</li>
<li>Der Report wird durch Instrumentierung für die V8 Javascript Engine
erstellt</li>
<li>Der Sourcecode muss nicht für die Instrumentierung angepasst
werden</li>
</ul>
</div>
<div id="snapshots-erstellen" class="slide section level1">
<h1>Snapshots erstellen</h1>
</div>
</body>
</html>
